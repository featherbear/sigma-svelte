var app=function(){"use strict";function e(){}function t(e){return e()}function i(){return Object.create(null)}function r(e){e.forEach(t)}function n(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t,i){e.insertBefore(t,i||null)}function a(e){e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}let d;function c(e){d=e}function h(e){(function(){if(!d)throw new Error("Function called outside component initialization");return d})().$$.on_mount.push(e)}const u=[],g=[],f=[],m=[],p=Promise.resolve();let y=!1;function v(e){f.push(e)}let x=!1;const b=new Set;function E(){if(!x){x=!0;do{for(let e=0;e<u.length;e+=1){const t=u[e];c(t),w(t.$$)}for(u.length=0;g.length;)g.pop()();for(let e=0;e<f.length;e+=1){const t=f[e];b.has(t)||(b.add(t),t())}f.length=0}while(u.length);for(;m.length;)m.pop()();y=!1,x=!1,b.clear()}}function w(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(v)}}const A=new Set;function T(e,t){e&&e.i&&(A.delete(e),e.i(t))}function S(e,i,s){const{fragment:o,on_mount:a,on_destroy:l,after_update:d}=e.$$;o&&o.m(i,s),v(()=>{const i=a.map(t).filter(n);l?l.push(...i):r(i),e.$$.on_mount=[]}),d.forEach(v)}function C(e,t){const i=e.$$;null!==i.fragment&&(r(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function _(e,t){-1===e.$$.dirty[0]&&(u.push(e),y||(y=!0,p.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function P(t,n,s,o,l,h,u=[-1]){const g=d;c(t);const f=n.props||{},m=t.$$={fragment:null,ctx:null,props:h,update:e,not_equal:l,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(g?g.$$.context:[]),callbacks:i(),dirty:u};let p=!1;if(m.ctx=s?s(t,f,(e,i,...r)=>{const n=r.length?r[0]:i;return m.ctx&&l(m.ctx[e],m.ctx[e]=n)&&(m.bound[e]&&m.bound[e](n),p&&_(t,e)),i}):[],m.update(),p=!0,r(m.before_update),m.fragment=!!o&&o(m.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);m.fragment&&m.fragment.l(e),e.forEach(a)}else m.fragment&&m.fragment.c();n.intro&&T(t.$$.fragment),S(t,n.target,n.anchor),E()}c(g)}class N{$destroy(){C(this,1),this.$destroy=e}$on(e,t){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}$set(){}}var k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function M(e,t){return e(t={exports:{}},t.exports),t.exports}var z=M((function(e,t){(function(e){var t={};"undefined"!=typeof window&&window.addEventListener("resize",(function(){for(var e in t){if(t.hasOwnProperty(e))t[e].refresh()}}));var i=function(e){var r,n,s,o,a;i.classes.dispatcher.extend(this);var l=e||{};if("string"==typeof l||l instanceof HTMLElement?l={renderers:[l]}:"[object Array]"===Object.prototype.toString.call(l)&&(l={renderers:l}),o=l.renderers||l.renderer||l.container,l.renderers&&0!==l.renderers.length||("string"==typeof o||o instanceof HTMLElement||"object"==typeof o&&"container"in o)&&(l.renderers=[o]),l.id){if(t[l.id])throw'sigma: Instance "'+l.id+'" already exists.';Object.defineProperty(this,"id",{value:l.id})}else{for(a=0;t[a];)a++;Object.defineProperty(this,"id",{value:""+a})}for(t[this.id]=this,this.settings=new i.classes.configurable(i.settings,l.settings||{}),Object.defineProperty(this,"graph",{value:new i.classes.graph(this.settings),configurable:!0}),Object.defineProperty(this,"middlewares",{value:[],configurable:!0}),Object.defineProperty(this,"cameras",{value:{},configurable:!0}),Object.defineProperty(this,"renderers",{value:{},configurable:!0}),Object.defineProperty(this,"renderersPerCamera",{value:{},configurable:!0}),Object.defineProperty(this,"cameraFrames",{value:{},configurable:!0}),Object.defineProperty(this,"camera",{get:function(){return this.cameras[0]}}),Object.defineProperty(this,"events",{value:["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","doubleClickNode","doubleClickNodes","rightClickNode","rightClickNodes","hovers","downNode","downNodes","upNode","upNodes"],configurable:!0}),this._handler=function(e){var t,i={};for(t in e.data)i[t]=e.data[t];i.renderer=e.target,this.dispatchEvent(e.type,i)}.bind(this),r=0,n=(s=l.renderers||[]).length;r<n;r++)this.addRenderer(s[r]);for(r=0,n=(s=l.middlewares||[]).length;r<n;r++)this.middlewares.push("string"==typeof s[r]?i.middlewares[s[r]]:s[r]);"object"==typeof l.graph&&l.graph&&(this.graph.read(l.graph),this.refresh())};if(i.prototype.addCamera=function(t){var r,n=this;if(!arguments.length){for(t=0;this.cameras[""+t];)t++;t=""+t}if(this.cameras[t])throw'sigma.addCamera: The camera "'+t+'" already exists.';return r=new i.classes.camera(t,this.graph,this.settings),this.cameras[t]=r,r.quadtree=new i.classes.quad,i.classes.edgequad!==e&&(r.edgequadtree=new i.classes.edgequad),r.bind("coordinatesUpdated",(function(e){n.dispatchEvent("coordinatesUpdated"),n.renderCamera(r)})),this.renderersPerCamera[t]=[],r},i.prototype.killCamera=function(e){if(!(e="string"==typeof e?this.cameras[e]:e))throw"sigma.killCamera: The camera is undefined.";var t,i=this.renderersPerCamera[e.id];for(t=i.length-1;t>=0;t--)this.killRenderer(i[t]);return delete this.renderersPerCamera[e.id],delete this.cameraFrames[e.id],delete this.cameras[e.id],e.kill&&e.kill(),this},i.prototype.addRenderer=function(e){var t,r,n,s,o=e||{};if("string"==typeof o?o={container:document.getElementById(o)}:o instanceof HTMLElement&&(o={container:o}),"string"==typeof o.container&&(o.container=document.getElementById(o.container)),"id"in o)t=o.id;else{for(t=0;this.renderers[""+t];)t++;t=""+t}if(this.renderers[t])throw'sigma.addRenderer: The renderer "'+t+'" already exists.';if(r=(r="function"==typeof o.type?o.type:i.renderers[o.type])||i.renderers.def,n="camera"in o?o.camera instanceof i.classes.camera?o.camera:this.cameras[o.camera]||this.addCamera(o.camera):this.addCamera(),this.cameras[n.id]!==n)throw"sigma.addRenderer: The camera is not properly referenced.";return s=new r(this.graph,n,this.settings,o),this.renderers[t]=s,Object.defineProperty(s,"id",{value:t}),s.bind&&s.bind(["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","clickEdge","clickEdges","doubleClickNode","doubleClickNodes","doubleClickEdge","doubleClickEdges","rightClickNode","rightClickNodes","rightClickEdge","rightClickEdges","hovers","downNode","downNodes","downEdge","downEdges","upNode","upNodes","upEdge","upEdges"],this._handler),this.renderersPerCamera[n.id].push(s),s},i.prototype.killRenderer=function(e){if(!(e="string"==typeof e?this.renderers[e]:e))throw"sigma.killRenderer: The renderer is undefined.";var t=this.renderersPerCamera[e.camera.id],i=t.indexOf(e);return i>=0&&t.splice(i,1),e.kill&&e.kill(),delete this.renderers[e.id],this},i.prototype.refresh=function(t){var r,n,s,o,a,l,d=0;for(t=t||{},r=0,n=(o=this.middlewares||[]).length;r<n;r++)o[r].call(this,0===r?"":"tmp"+d+":",r===n-1?"ready:":"tmp"+ ++d+":");for(s in this.cameras)(a=this.cameras[s]).settings("autoRescale")&&this.renderersPerCamera[a.id]&&this.renderersPerCamera[a.id].length?i.middlewares.rescale.call(this,o.length?"ready:":"",a.readPrefix,{width:this.renderersPerCamera[a.id][0].width,height:this.renderersPerCamera[a.id][0].height}):i.middlewares.copy.call(this,o.length?"ready:":"",a.readPrefix),t.skipIndexation||(l=i.utils.getBoundaries(this.graph,a.readPrefix),a.quadtree.index(this.graph,{prefix:a.readPrefix,maxLevel:a.settings("nodeQuadtreeMaxLevel"),bounds:{x:l.minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}),a.edgequadtree!==e&&a.settings("drawEdges")&&(a.settings("enableEdgeHovering")||a.settings("edgesClippingWithNodes"))&&a.edgequadtree.index(this.graph,{prefix:a.readPrefix,maxLevel:a.settings("edgeQuadtreeMaxLevel"),bounds:{x:l.minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}));for(r=0,n=(o=Object.keys(this.renderers)).length;r<n;r++)if(this.renderers[o[r]].process)if(this.settings("skipErrors"))try{this.renderers[o[r]].process()}catch(e){console.log('Warning: The renderer "'+o[r]+'" crashed on ".process()"')}else this.renderers[o[r]].process();return this.render(),this},i.prototype.render=function(){var e;for(e in this.renderers)if(this.settings("skipErrors"))try{this.renderers[e].render()}catch(t){this.settings("verbose")&&console.log('Warning: The renderer "'+this.renderers[e]+'" crashed on ".render()"')}else this.renderers[e].render();return this},i.prototype.renderCamera=function(e,t){var i,r,n,s=this;if(t)for(i=0,r=(n=this.renderersPerCamera[e.id]).length;i<r;i++)if(this.settings("skipErrors"))try{n[i].render()}catch(e){this.settings("verbose")&&console.log('Warning: The renderer "'+n[i].id+'" crashed on ".render()"')}else n[i].render();else if(!this.cameraFrames[e.id]){for(i=0,r=(n=this.renderersPerCamera[e.id]).length;i<r;i++)if(this.settings("skipErrors"))try{n[i].render()}catch(e){this.settings("verbose")&&console.log('Warning: The renderer "'+n[i].id+'" crashed on ".render()"')}else n[i].render();this.cameraFrames[e.id]=requestAnimationFrame((function(){delete s.cameraFrames[e.id]}))}return this},i.prototype.kill=function(){var e;for(e in this.dispatchEvent("kill"),this.graph.kill(),delete this.middlewares,this.renderers)this.killRenderer(this.renderers[e]);for(e in this.cameras)this.killCamera(this.cameras[e]);for(e in delete this.renderers,delete this.cameras,this)this.hasOwnProperty(e)&&delete this[e];delete t[this.id]},i.instances=function(e){return arguments.length?t[e]:i.utils.extend({},t)},i.version="1.5.2",i.forceES5=!1,void 0!==this.sigma)throw"An object called sigma is already in the global scope.";this.sigma=i}).call(k),function(i){if(i.conrad)throw new Error("conrad already exists");var r,n=!1,s={},o={},a=[],l={},d=[],c=!1,h={frameDuration:20,history:!0},u=Object.create(null);function g(e,t){var i,r,n,s,o,a,l=Array.isArray(e)?e:e.split(/ /);for(t=void 0===t?{}:t,i=0,n=l.length;i!==n;i+=1)if(a=l[i],u[a])for(o={type:a,data:t||{}},r=0,s=u[a].length;r!==s;r+=1)try{u[a][r].handler(o)}catch(e){}}function f(){var e,t,i,r,n=!1,s=w(),o=a.shift();if(i=o.job(),s=w()-s,o.done++,o.time+=s,o.currentTime+=s,o.weightTime=o.currentTime/(o.weight||1),o.averageTime=o.time/o.done,!(r=o.count?o.count<=o.done:!i)){for(e=0,t=a.length;e<t;e++)if(a[e].weightTime>o.weightTime){a.splice(e,0,o),n=!0;break}n||a.push(o)}return r?o:null}function m(e){var t=a.length;o[e.id]=e,e.status="running",t&&(e.weightTime=a[t-1].weightTime,e.currentTime=e.weightTime*(e.weight||1)),e.startTime=w(),g("jobStarted",b(e)),a.push(e)}function p(){var e,t,i;for(e in s)(t=s[e]).after?l[e]=t:m(t),delete s[e];for(n=!!a.length;a.length&&w()-r<h.frameDuration;)if(i=f())for(e in y(i.id),l)l[e].after===i.id&&(m(l[e]),delete l[e]);n?(r=w(),g("enterFrame"),setTimeout(p,0)):g("stop")}function y(e){var t,i,r,n,c=!1;if(Array.isArray(e))for(t=0,i=e.length;t<i;t++)y(e[t]);else{if("string"!=typeof e)throw new Error("[conrad.killJob] Wrong arguments.");for(t=0,i=(r=[o,l,s]).length;t<i;t++)e in r[t]&&(n=r[t][e],h.history&&(n.status="done",d.push(n)),g("jobEnded",b(n)),delete r[t][e],"function"==typeof n.end&&n.end(),c=!0);for(t=0,i=(r=a).length;t<i;t++)if(r[t].id===e){r.splice(t,1);break}if(!c)throw new Error('[conrad.killJob] Job "'+e+'" not found.')}return this}function v(e){var t=s[e]||o[e]||l[e];return t?x(t):null}function x(){var e,t,i={},r=arguments.length;for(e=r-1;e>=0;e--)for(t in arguments[e])i[t]=arguments[e][t];return i}function b(e){var t,i,r;if(!e)return e;if(Array.isArray(e))for(t=[],i=0,r=e.length;i<r;i++)t.push(b(e[i]));else if("object"==typeof e)for(i in t={},e)t[i]=b(e[i]);else t=e;return t}function E(e){var t,i=[];for(t in e)i.push(e[t]);return i}function w(){return Date.now?Date.now():(new Date).getTime()}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var A={hasJob:v,addJob:function e(t,i){var o,a,l;if(Array.isArray(t)){for(c=!0,o=0,a=t.length;o<a;o++)e(t[o].id,x(t[o],i));c=!1,n||(r=w(),g("start"),p())}else if("object"==typeof t)if("string"==typeof t.id)e(t.id,t);else{for(o in c=!0,t)"function"==typeof t[o]?e(o,x({job:t[o]},i)):e(o,x(t[o],i));c=!1,n||(r=w(),g("start"),p())}else{if("string"!=typeof t)throw new Error("[conrad.addJob] Wrong arguments.");if(v(t))throw new Error('[conrad.addJob] Job with id "'+t+'" already exists.');if("function"==typeof i)l={id:t,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0,job:i};else{if("object"!=typeof i)throw new Error("[conrad.addJob] Wrong arguments.");l=x({id:t,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0},i)}s[t]=l,g("jobAdded",b(l)),n||c||(r=w(),g("start"),p())}return this},killJob:y,killAll:function(){var e,t=x(s,o,l);if(h.history)for(e in t)t[e].status="done",d.push(t[e]),"function"==typeof t[e].end&&t[e].end();return s={},l={},o={},a=[],n=!1,this},settings:function(e,t){var i;if("string"==typeof a1&&1===arguments.length)return h[a1];for(var r in i="object"==typeof a1&&1===arguments.length&&a1||{},"string"==typeof a1&&(i[a1]=a2),i)void 0!==i[r]?h[r]=i[r]:delete h[r];return this},getStats:function(e,t){var i,r,n,a,c,h,u;if(!arguments.length){for(r in c=[],s)c.push(s[r]);for(r in l)c.push(l[r]);for(r in o)c.push(o[r]);c=c.concat(d)}if("string"==typeof e)switch(e){case"waiting":c=E(l);break;case"running":c=E(o);break;case"done":c=d;break;default:h=e}if(e instanceof RegExp&&(h=e),!h&&("string"==typeof t||t instanceof RegExp)&&(h=t),h){if(u="string"==typeof h,c instanceof Array)i=c;else if("object"==typeof c)for(r in i=[],c)i=i.concat(c[r]);else{for(r in i=[],s)i.push(s[r]);for(r in l)i.push(l[r]);for(r in o)i.push(o[r]);i=i.concat(d)}for(c=[],n=0,a=i.length;n<a;n++)(u?i[n].id===h:i[n].id.match(h))&&c.push(i[n])}return b(c)},isRunning:function(){return n},clearHistory:function(){return d=[],this},bind:function e(t,i){var r,n,s,o;if(arguments.length)if(1===arguments.length&&Object(arguments[0])===arguments[0])for(t in arguments[0])e(t,arguments[0][t]);else if(arguments.length>1)for(r=0,n=(o=Array.isArray(t)?t:t.split(/ /)).length;r!==n;r+=1)s=o[r],u[s]||(u[s]=[]),u[s].push({handler:i})},unbind:function(e,t){var i,r,n,s,o,a,l=Array.isArray(e)?e:e.split(/ /);if(arguments.length)if(t)for(i=0,r=l.length;i!==r;i+=1){if(a=l[i],u[a]){for(o=[],n=0,s=u[a].length;n!==s;n+=1)u[a][n].handler!==t&&o.push(u[a][n]);u[a]=o}u[a]&&0===u[a].length&&delete u[a]}else for(i=0,r=l.length;i!==r;i+=1)delete u[l[i]];else u=Object.create(null)},version:"0.1.0"};e.exports&&(t=e.exports=A),t.conrad=A,i.conrad=A}(k);var i=k.sigma,r=k.conrad;i.conrad=r,"undefined"==typeof HTMLElement&&(HTMLElement=function(){}),"undefined"==typeof window&&(window={addEventListener:function(){}}),e.exports&&(t=e.exports=i),t.sigma=i,function(e){if(void 0===i)throw"sigma is not declared";var t,r=this;i.utils=i.utils||{},i.utils.map=function(){var t,r=this;i.forceES5||"undefined"==typeof Map||Map.prototype.keys===e||Map.prototype.forEach===e||Array.from===e?(t=Object.create(null),this.size=0,this.keyList=function(){return Object.keys(t).filter((function(i){return t[i]!==e}))},this.valueList=function(){for(var i=Object.keys(t),r=[],n=0;n<i.length;n++){var s=t[i[n]];s!==e&&r.push(s)}return r},this.set=function(i,n){t[i]===e&&r.size++,t[i]=n},this.get=function(e){return t[e]},this.has=function(i){return t[i]!==e},this.forEach=function(e){for(var i=Object.keys(t),r=0;r<i.length;++r){var n=i[r],s=t[n];void 0!==s&&e(s,n)}},this.delete=function(i){var n=t[i];return t[i]=e,n!==e&&r.size--,n},this.clear=function(){for(var e in t)"hasOwnProperty"in t&&!t.hasOwnProperty(e)||delete t[e];t=Object.create(null),r.size=0}):(t=new Map,Object.defineProperty(this,"size",{get:function(){return t.size},set:e,enumerable:!0}),this.set=function(e,i){t.set(""+e,i)},this.get=function(e){return t.get(""+e)},this.has=function(e){return t.has(""+e)},this.forEach=function(e){return t.forEach(e)},this.delete=function(e){return t.delete(""+e)},this.clear=function(){t.clear()},this.keyList=function(){return Array.from(t.keys())},this.valueList=function(){var e=[];return t.forEach((function(t){e.push(t)})),e})},i.utils.extend=function(){var e,t,i={},r=arguments.length;for(e=r-1;e>=0;e--)for(t in arguments[e])i[t]=arguments[e][t];return i},i.utils.dateNow=function(){return Date.now?Date.now():(new Date).getTime()},i.utils.pkg=function(e){return(e||"").split(".").reduce((function(e,t){return t in e?e[t]:e[t]={}}),r)},i.utils.id=(t=0,function(){return++t});var n={};i.utils.floatColor=function(e){if(n[e])return n[e];var t=e,i=0,r=0,s=0;"#"===e[0]?3===(e=e.slice(1)).length?(i=parseInt(e.charAt(0)+e.charAt(0),16),r=parseInt(e.charAt(1)+e.charAt(1),16),s=parseInt(e.charAt(2)+e.charAt(2),16)):(i=parseInt(e.charAt(0)+e.charAt(1),16),r=parseInt(e.charAt(2)+e.charAt(3),16),s=parseInt(e.charAt(4)+e.charAt(5),16)):e.match(/^ *rgba? *\(/)&&(i=+(e=e.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/))[1],r=+e[2],s=+e[3]);var o=256*i*256+256*r+s;return n[t]=o,o},i.utils.zoomTo=function(e,t,r,n,s){var o,a,l,d=e.settings;(a=Math.max(d("zoomMin"),Math.min(d("zoomMax"),e.ratio*n)))!==e.ratio&&(l={x:t*(1-(n=a/e.ratio))+e.x,y:r*(1-n)+e.y,ratio:a},s&&s.duration?(o=i.misc.animation.killAll(e),s=i.utils.extend(s,{easing:o?"quadraticOut":"quadraticInOut"}),i.misc.animation.camera(e,l,s)):(e.goTo(l),s&&s.onComplete&&s.onComplete()))},i.utils.getQuadraticControlPoint=function(e,t,i,r,n){return{x:(e+i)/(n=this.extend(n,{x:2,y:4})).x+(r-t)/n.y,y:(t+r)/n.x+(e-i)/n.y}},i.utils.getPointOnQuadraticCurve=function(e,t,i,r,n,s,o){return{x:(1-e)*(1-e)*t+2*(1-e)*e*s+e*e*r,y:(1-e)*(1-e)*i+2*(1-e)*e*o+e*e*n}},i.utils.getPointOnBezierCurve=function(e,t,i,r,n,s,o,a,l){var d=(1-e)*(1-e)*(1-e),c=3*e*(1-e)*(1-e),h=3*e*e*(1-e),u=e*e*e;return{x:d*t+c*s+h*a+u*r,y:d*i+c*o+h*l+u*n}},i.utils.getSelfLoopControlPoints=function(e,t,i){return{x1:e-7*i,y1:t,x2:e,y2:t+7*i}},i.utils.getDistance=function(e,t,i,r){return Math.sqrt((i-e)*(i-e)+(r-t)*(r-t))},i.utils.getCircleIntersection=function(e,t,i,r,n,s){var o,a,l,d,c,h,u,g,f;return a=r-e,l=n-t,!((d=Math.sqrt(l*l+a*a))>i+s)&&(!(d<Math.abs(i-s))&&(f=t+l*(o=(i*i-s*s+d*d)/(2*d))/d,{xi:(g=e+a*o/d)+(h=(c=Math.sqrt(i*i-o*o))/d*-l),xi_prime:g-h,yi:f+(u=a*(c/d)),yi_prime:f-u}))},i.utils.isPointOnSegment=function(e,t,r,n,s,o,a){return i.utils.distancePointToSegment(e,t,r,n,s,o)<a},i.utils.distancePointToSegment=function(e,t,i,r,n,s){var o,a,l=n-i,d=s-r,c=l*l+d*d,h=-1;0!==c&&(h=((e-i)*l+(t-r)*d)/c),h<0?(o=i,a=r):h>1?(o=n,a=s):(o=i+h*l,a=r+h*d);var u=e-o,g=t-a;return Math.sqrt(u*u+g*g)},i.utils.isPointOnQuadraticCurve=function(e,t,r,n,s,o,a,l,d){var c=i.utils.getDistance(r,n,s,o);if(Math.abs(e-r)>c||Math.abs(t-n)>c)return!1;for(var h,u=.5,g=i.utils.getDistance(e,t,r,n)<i.utils.getDistance(e,t,s,o)?-.01:.01,f=100,m=i.utils.getPointOnQuadraticCurve(u,r,n,s,o,a,l),p=i.utils.getDistance(e,t,m.x,m.y);f-- >0&&u>=0&&u<=1&&p>d&&(g>.001||g<-.001);)h=p,m=i.utils.getPointOnQuadraticCurve(u,r,n,s,o,a,l),(p=i.utils.getDistance(e,t,m.x,m.y))>h?u+=g=-g/2:u+g<0||u+g>1?(g/=2,p=h):u+=g;return p<d},i.utils.isPointOnBezierCurve=function(e,t,r,n,s,o,a,l,d,c,h){var u=i.utils.getDistance(r,n,a,l);if(Math.abs(e-r)>u||Math.abs(t-n)>u)return!1;for(var g,f=.5,m=i.utils.getDistance(e,t,r,n)<i.utils.getDistance(e,t,s,o)?-.01:.01,p=100,y=i.utils.getPointOnBezierCurve(f,r,n,s,o,a,l,d,c),v=i.utils.getDistance(e,t,y.x,y.y);p-- >0&&f>=0&&f<=1&&v>h&&(m>.001||m<-.001);)g=v,y=i.utils.getPointOnBezierCurve(f,r,n,s,o,a,l,d,c),(v=i.utils.getDistance(e,t,y.x,y.y))>g?f+=m=-m/2:f+m<0||f+m>1?(m/=2,v=g):f+=m;return v<h},i.utils.getX=function(t){return t.offsetX!==e&&t.offsetX||t.layerX!==e&&t.layerX||t.clientX!==e&&t.clientX},i.utils.getY=function(t){return t.offsetY!==e&&t.offsetY||t.layerY!==e&&t.layerY||t.clientY!==e&&t.clientY},i.utils.getPixelRatio=function(){var t=1;return window.screen.deviceXDPI!==e&&window.screen.logicalXDPI!==e&&window.screen.deviceXDPI>window.screen.logicalXDPI?t=window.screen.systemXDPI/window.screen.logicalXDPI:window.devicePixelRatio!==e&&(t=window.devicePixelRatio),t},i.utils.getWidth=function(t){var i=t.target.ownerSVGElement?t.target.ownerSVGElement.width:t.target.width;return"number"==typeof i&&i||i!==e&&i.baseVal!==e&&i.baseVal.value},i.utils.getCenter=function(e){var t=-1!==e.target.namespaceURI.indexOf("svg")?1:i.utils.getPixelRatio();return{x:i.utils.getWidth(e)/(2*t),y:i.utils.getHeight(e)/(2*t)}},i.utils.mouseCoords=function(e,t,r){return t=t||i.utils.getX(e),r=r||i.utils.getY(e),{x:t-i.utils.getCenter(e).x,y:r-i.utils.getCenter(e).y,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey}},i.utils.getHeight=function(t){var i=t.target.ownerSVGElement?t.target.ownerSVGElement.height:t.target.height;return"number"==typeof i&&i||i!==e&&i.baseVal!==e&&i.baseVal.value},i.utils.getDelta=function(t){return t.wheelDelta!==e&&t.wheelDelta||t.detail!==e&&-t.detail},i.utils.getOffset=function(e){for(var t=0,i=0;e;)i+=parseInt(e.offsetTop),t+=parseInt(e.offsetLeft),e=e.offsetParent;return{top:i,left:t}},i.utils.doubleClick=function(e,t,r){var n,s=0;e._doubleClickHandler=e._doubleClickHandler||{},e._doubleClickHandler[t]=e._doubleClickHandler[t]||[],(n=e._doubleClickHandler[t]).push((function(e){if(2===++s)return s=0,r(e);1===s&&setTimeout((function(){s=0}),i.settings.doubleClickTimeout)})),e.addEventListener(t,n[n.length-1],!1)},i.utils.unbindDoubleClick=function(e,t){for(var i,r=(e._doubleClickHandler||{})[t]||[];i=r.pop();)e.removeEventListener(t,i);delete(e._doubleClickHandler||{})[t]},i.utils.easings=i.utils.easings||{},i.utils.easings.linearNone=function(e){return e},i.utils.easings.quadraticIn=function(e){return e*e},i.utils.easings.quadraticOut=function(e){return e*(2-e)},i.utils.easings.quadraticInOut=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},i.utils.easings.cubicIn=function(e){return e*e*e},i.utils.easings.cubicOut=function(e){return--e*e*e+1},i.utils.easings.cubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},i.utils.isWebGLSupported=function(){var e;if(!!window.WebGLRenderingContext){e=document.createElement("canvas");try{return!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){}}return!1},i.utils.loadShader=function(e,t,i,r){var n=e.createShader(i);return e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(r&&r('Error compiling shader "'+n+'":'+e.getShaderInfoLog(n)),e.deleteShader(n),null)},i.utils.loadProgram=function(e,t,i,r,n){var s,o=e.createProgram();for(s=0;s<t.length;++s)e.attachShader(o,t[s]);if(i)for(s=0;s<i.length;++s)e.bindAttribLocation(o,locations?locations[s]:s,opt_attribs[s]);return e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)?o:(n&&n("Error in program linking: "+e.getProgramInfoLog(o)),e.deleteProgram(o),null)},i.utils.pkg("sigma.utils.matrices"),i.utils.matrices.translation=function(e,t){return[1,0,0,0,1,0,e,t,1]},i.utils.matrices.rotation=function(e,t){var i=Math.cos(e),r=Math.sin(e);return t?[i,-r,r,i]:[i,-r,0,r,i,0,0,0,1]},i.utils.matrices.scale=function(e,t){return t?[e,0,0,e]:[e,0,0,0,e,0,0,0,1]},i.utils.matrices.multiply=function(e,t,i){var r=i?2:3,n=e[0*r+0],s=e[0*r+1],o=e[0*r+2],a=e[1*r+0],l=e[1*r+1],d=e[1*r+2],c=e[2*r+0],h=e[2*r+1],u=e[2*r+2],g=t[0*r+0],f=t[0*r+1],m=t[0*r+2],p=t[1*r+0],y=t[1*r+1],v=t[1*r+2],x=t[2*r+0],b=t[2*r+1],E=t[2*r+2];return i?[n*g+s*p,n*f+s*y,a*g+l*p,a*f+l*y]:[n*g+s*p+o*x,n*f+s*y+o*b,n*m+s*v+o*E,a*g+l*p+d*x,a*f+l*y+d*b,a*m+l*v+d*E,c*g+h*p+u*x,c*f+h*y+u*b,c*m+h*v+u*E]},i.utils.canvas={},i.utils.canvas.getTextWidth=function(e,t,i,r){return r?t?.6*r.length*i:e.measureText(r).width:0},i.utils.canvas.setLevel=function(e,t){if(e)switch(t.shadowOffsetX=0,e){case 1:t.shadowOffsetY=1.5,t.shadowBlur=4,t.shadowColor="rgba(0,0,0,0.36)";break;case 2:t.shadowOffsetY=3,t.shadowBlur=12,t.shadowColor="rgba(0,0,0,0.39)";break;case 3:t.shadowOffsetY=6,t.shadowBlur=12,t.shadowColor="rgba(0,0,0,0.42)";break;case 4:t.shadowOffsetY=10,t.shadowBlur=20,t.shadowColor="rgba(0,0,0,0.47)";break;case 5:t.shadowOffsetY=15,t.shadowBlur=24,t.shadowColor="rgba(0,0,0,0.52)"}},i.utils.canvas.resetLevel=function(e){e.shadowOffsetY=0,e.shadowBlur=0,e.shadowColor="#000000"};var s={};i.utils.canvas.drawImage=function(e,t,i,r,n,o,a,l){if(e.image&&e.image.url&&!(r<a)){var d=e.image.url,c=e.image.h||1,h=e.image.w||1,u=e.image.scale||1,g=e.image.clip||1,f=s[d];f||((f=document.createElement("IMG")).setAttribute("crossOrigin",o),f.src=d,f.onload=function(){window.dispatchEvent(new Event("resize"))},s[d]=f);var m=h<c?h/c:1,p=c<h?c/h:1,y=r*u;n.save(),n.beginPath(),"function"==typeof l?l(e,t,i,r,n,g):n.arc(t,i,r*g,0,2*Math.PI,!0),n.closePath(),n.clip(),n.drawImage(f,t+Math.sin(-.7855)*y*m,i-Math.cos(-.7855)*y*p,y*m*2*Math.sin(-.7855)*-1,y*p*2*Math.cos(-.7855)),n.restore()}},i.utils.canvas.drawIcon=function(e,t,i,r,n,s){if(e.icon&&!(r<s)){var o=e.icon.font||"Arial",a=e.icon.color||"#F00",l=e.icon.content||"?",d=(e.icon.x,e.icon.y,r),c=.7;"number"==typeof e.icon.scale&&(c=Math.abs(Math.max(.01,e.icon.scale)));var h=Math.round(c*d);n.save(),n.fillStyle=a,n.font=h+"px "+o,n.textAlign="center",n.textBaseline="middle",n.fillText(l,t,i),n.restore()}}}.call(k),function(e){var t,i=0,r=["ms","moz","webkit","o"];for(t=0;t<r.length&&!e.requestAnimationFrame;t++)e.requestAnimationFrame=e[r[t]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[r[t]+"CancelAnimationFrame"]||e[r[t]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(t,r){var n=(new Date).getTime(),s=Math.max(0,16-(n-i)),o=e.setTimeout((function(){t(n+s)}),s);return i=n+s,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t,i,r=Array.prototype.slice.call(arguments,1),n=this;return i=function(){return n.apply(this instanceof t&&e?this:e,r.concat(Array.prototype.slice.call(arguments)))},(t=function(){}).prototype=this.prototype,i.prototype=new t,i})}(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.settings");i.settings=i.utils.extend(i.settings||{},{clone:!1,immutable:!0,verbose:!1,classPrefix:"sigma",defaultNodeType:"def",defaultEdgeType:"def",defaultLabelColor:"#000",defaultEdgeColor:"#000",defaultNodeColor:"#000",defaultLabelSize:14,labelAlignment:"right",edgeColor:"source",minArrowSize:0,font:"arial",fontStyle:"",labelColor:"default",labelSize:"fixed",labelSizeRatio:1,labelThreshold:8,maxNodeLabelLineLength:0,webglOversamplingRatio:2,nodeBorderSize:0,defaultNodeBorderColor:"#000",hoverFont:"",singleHover:!0,hoverFontStyle:"",labelHoverShadow:"default",labelHoverShadowColor:"#000",nodeHoverColor:"node",defaultNodeHoverColor:"#000",labelHoverBGColor:"default",defaultHoverLabelBGColor:"#fff",labelHoverColor:"default",defaultLabelHoverColor:"#000",edgeHoverColor:"edge",edgeHoverSizeRatio:1,defaultEdgeHoverColor:"#000",edgeHoverExtremities:!1,drawEdges:!0,drawNodes:!0,drawLabels:!0,drawEdgeLabels:!1,batchEdgesDrawing:!1,hideEdgesOnMove:!1,canvasEdgesBatchSize:500,webglEdgesBatchSize:1e3,approximateLabelWidth:!0,edgesClippingWithNodes:!0,autoCurveRatio:1,autoCurveSortByDirection:!0,scalingMode:"inside",sideMargin:0,minEdgeSize:.5,maxEdgeSize:1,minNodeSize:1,maxNodeSize:8,clickToFocus:!1,touchEnabled:!0,mouseEnabled:!0,mouseWheelEnabled:!0,doubleClickEnabled:!0,eventsEnabled:!0,zoomingRatio:1.7,doubleClickZoomingRatio:2.2,zoomMin:.0625,zoomMax:2,zoomOnLocation:!0,mouseZoomDuration:200,doubleClickZoomDuration:200,mouseInertiaDuration:200,mouseInertiaRatio:3,touchInertiaDuration:200,touchInertiaRatio:3,doubleClickTimeout:300,doubleTapTimeout:300,dragTimeout:200,autoRescale:!0,enableCamera:!0,enableHovering:!0,enableEdgeHovering:!1,edgeHoverPrecision:5,rescaleIgnoreSize:!1,skipErrors:!1,nodeQuadtreeMaxLevel:4,edgeQuadtreeMaxLevel:4,nodesPowRatio:.5,edgesPowRatio:.5,animationsTime:200})}.call(k),function(){var i=function(){Object.defineProperty(this,"_handlers",{value:{}})};i.prototype.bind=function(e,t){var i,r,n,s;if(1===arguments.length&&"object"==typeof arguments[0])for(e in arguments[0])this.bind(e,arguments[0][e]);else{if(2!==arguments.length||"function"!=typeof arguments[1])throw"bind: Wrong arguments.";for(i=0,r=(s="string"==typeof e?e.split(" "):e).length;i!==r;i+=1)(n=s[i])&&(this._handlers[n]||(this._handlers[n]=[]),this._handlers[n].push({handler:t}))}return this},i.prototype.unbind=function(e,t){var i,r,n,s,o,a,l,d="string"==typeof e?e.split(" "):e;if(!arguments.length){for(o in this._handlers)delete this._handlers[o];return this}if(t)for(i=0,r=d.length;i!==r;i+=1){if(l=d[i],this._handlers[l]){for(a=[],n=0,s=this._handlers[l].length;n!==s;n+=1)this._handlers[l][n].handler!==t&&a.push(this._handlers[l][n]);this._handlers[l]=a}this._handlers[l]&&0===this._handlers[l].length&&delete this._handlers[l]}else for(i=0,r=d.length;i!==r;i+=1)delete this._handlers[d[i]];return this},i.prototype.dispatchEvent=function(e,t){var i,r,n,s,o,a,l,d="string"==typeof e?e.split(" "):e;for(t=void 0===t?{}:t,i=0,r=d.length;i!==r;i+=1)if(l=d[i],this._handlers[l]){for(a=this.getEvent(l,t),o=[],n=0,s=this._handlers[l].length;n!==s;n+=1)this._handlers[l][n].handler(a),this._handlers[l][n].one||o.push(this._handlers[l][n]);this._handlers[l]=o}return this},i.prototype.getEvent=function(e,t){return{type:e,data:t||{},target:this}},i.extend=function(e,t){var r;for(r in i.prototype)i.prototype.hasOwnProperty(r)&&(e[r]=i.prototype[r]);i.apply(e,t)},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.dispatcher=i):(e.exports&&(t=e.exports=i),t.dispatcher=i)}.call(k),function(){var i=function(){var e,t,r={},n=Array.prototype.slice.call(arguments,0),s=function(e,t){var i,o,a,l;if(1!==arguments.length||"string"!=typeof e){if("object"==typeof e&&"string"==typeof t)return void 0!==(e||{})[t]?e[t]:s(t);for(i="object"==typeof e&&void 0===t?e:{},"string"==typeof e&&(i[e]=t),o=0,a=(l=Object.keys(i)).length;o<a;o++)r[l[o]]=i[l[o]];return this}if(void 0!==r[e])return r[e];for(o=0,a=n.length;o<a;o++)if(void 0!==n[o][e])return n[o][e]};for(s.embedObjects=function(){var e=n.concat(r).concat(Array.prototype.splice.call(arguments,0));return i.apply({},e)},e=0,t=arguments.length;e<t;e++)s(arguments[e]);return s};void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.configurable=i):(e.exports&&(t=e.exports=i),t.configurable=i)}.call(k),function(r){var n=Object.create(null),s=Object.create(null),o=Object.create(null),a=Object.create(null),l=Object.create(null),d={immutable:!0,clone:!0},c=function(e){return d[e]},h=function(e){var t,r,s;for(t in s={settings:e||c,nodesArray:[],edgesArray:[],nodesIndex:new i.utils.map,edgesIndex:new i.utils.map,inNeighborsIndex:new i.utils.map,outNeighborsIndex:new i.utils.map,allNeighborsIndex:new i.utils.map},o)o[t].call(s);for(t in n)r=u(t,s,n[t]),this[t]=r,s[t]=r};function u(e,t,i){return function(){var r,n;for(r in l[e])l[e][r].apply(t,arguments);for(r in n=i.apply(t,arguments),a[e])a[e][r].apply(t,arguments);return n}}h.addMethod=function(e,t){if("string"!=typeof e||"function"!=typeof t||2!==arguments.length)throw"addMethod: Wrong arguments.";if(n[e]||h[e])throw'The method "'+e+'" already exists.';return n[e]=t,a[e]=Object.create(null),l[e]=Object.create(null),this},h.hasMethod=function(e){return!(!n[e]&&!h[e])},h.attach=function(e,t,i,r){if("string"!=typeof e||"string"!=typeof t||"function"!=typeof i||arguments.length<3||arguments.length>4)throw"attach: Wrong arguments.";var n;if("constructor"===e)n=o;else if(r){if(!l[e])throw'The method "'+e+'" does not exist.';n=l[e]}else{if(!a[e])throw'The method "'+e+'" does not exist.';n=a[e]}if(n[t])throw'A function "'+t+'" is already attached to the method "'+e+'".';return n[t]=i,this},h.attachBefore=function(e,t,i){return this.attach(e,t,i,!0)},h.addIndex=function(e,t){if("string"!=typeof e||Object(t)!==t||2!==arguments.length)throw"addIndex: Wrong arguments.";if(s[e])throw'The index "'+e+'" already exists.';var i;for(i in s[e]=t,t){if("function"!=typeof t[i])throw"The bindings must be functions.";h.attach(i,e,t[i])}return this},h.addMethod("addNode",(function(e){if(Object(e)!==e||1!==arguments.length)throw"addNode: Wrong arguments.";if("string"!=typeof e.id&&"number"!=typeof e.id)throw"The node must have a string or number id.";if(this.nodesIndex.get(e.id))throw'The node "'+e.id+'" already exists.';var t,n=e.id,s=Object.create(null);if(this.settings("clone"))for(t in e)"id"!==t&&(s[t]=e[t]);else s=e;return s.x!==r&&"number"!=typeof s.x&&(s.x=parseFloat(s.x)),s.y!==r&&"number"!=typeof s.y&&(s.y=parseFloat(s.y)),s.size!==r&&"number"!=typeof s.size&&(s.size=parseFloat(s.size)),(!s.size||s.size<=0)&&(s.size=1),this.settings("immutable")?Object.defineProperty(s,"id",{value:n,enumerable:!0}):s.id=n,this.inNeighborsIndex.set(n,new i.utils.map),this.outNeighborsIndex.set(n,new i.utils.map),this.allNeighborsIndex.set(n,new i.utils.map),this.nodesArray.push(s),this.nodesIndex.set(s.id,s),this})),h.addMethod("addEdge",(function(e){if(Object(e)!==e||1!==arguments.length)throw"addEdge: Wrong arguments.";if("string"!=typeof e.id&&"number"!=typeof e.id)throw"The edge must have a string or number id.";if("string"!=typeof e.source&&"number"!=typeof e.source||!this.nodesIndex.get(e.source))throw"The edge source must have an existing node id.";if("string"!=typeof e.target&&"number"!=typeof e.target||!this.nodesIndex.get(e.target))throw"The edge target must have an existing node id.";if(this.edgesIndex.get(e.id))throw'The edge "'+e.id+'" already exists.';var t,n=Object.create(null);if(this.settings("clone"))for(t in e)"id"!==t&&"source"!==t&&"target"!==t&&(n[t]=e[t]);else n=e;return n.size!==r&&"number"!=typeof n.size&&(n.size=parseFloat(n.size)),(!n.size||n.size<=0)&&(n.size=1),this.settings("immutable")?(Object.defineProperty(n,"id",{value:e.id,enumerable:!0}),Object.defineProperty(n,"source",{value:e.source,enumerable:!0}),Object.defineProperty(n,"target",{value:e.target,enumerable:!0})):(n.id=e.id,n.source=e.source,n.target=e.target),this.edgesArray.push(n),this.edgesIndex.set(n.id,n),this.inNeighborsIndex.get(n.target).get(n.source)||this.inNeighborsIndex.get(n.target).set(n.source,new i.utils.map),this.inNeighborsIndex.get(n.target).get(n.source).set(n.id,n),this.outNeighborsIndex.get(n.source).get(n.target)||this.outNeighborsIndex.get(n.source).set(n.target,new i.utils.map),this.outNeighborsIndex.get(n.source).get(n.target).set(n.id,n),this.allNeighborsIndex.get(n.source).get(n.target)||this.allNeighborsIndex.get(n.source).set(n.target,new i.utils.map),this.allNeighborsIndex.get(n.source).get(n.target).set(n.id,n),n.target!==n.source&&(this.allNeighborsIndex.get(n.target).get(n.source)||this.allNeighborsIndex.get(n.target).set(n.source,new i.utils.map),this.allNeighborsIndex.get(n.target).get(n.source).set(n.id,n)),this})),h.addMethod("dropNode",(function(e){if("string"!=typeof e&&"number"!=typeof e||1!==arguments.length)throw"dropNode: Wrong arguments.";if(!this.nodesIndex.get(e))throw'The node "'+e+'" does not exist.';var t,i;for(this.nodesIndex.delete(e),t=0,i=this.nodesArray.length;t<i;t++)if(this.nodesArray[t].id===e){this.nodesArray.splice(t,1);break}for(t=this.edgesArray.length-1;t>=0;t--)this.edgesArray[t].source!==e&&this.edgesArray[t].target!==e||this.dropEdge(this.edgesArray[t].id);this.inNeighborsIndex.delete(e),this.outNeighborsIndex.delete(e),this.allNeighborsIndex.delete(e);var r=this;return this.nodesIndex.forEach((function(t,i){r.inNeighborsIndex.get(i).delete(e),r.outNeighborsIndex.get(i).delete(e),r.allNeighborsIndex.get(i).delete(e)})),this})),h.addMethod("dropEdge",(function(e){if("string"!=typeof e&&"number"!=typeof e||1!==arguments.length)throw"dropEdge: Wrong arguments.";if(!this.edgesIndex.get(e))throw'The edge "'+e+'" does not exist.';var t,i,r;for(r=this.edgesIndex.get(e),this.edgesIndex.delete(e),t=0,i=this.edgesArray.length;t<i;t++)if(this.edgesArray[t].id===e){this.edgesArray.splice(t,1);break}return this.inNeighborsIndex.get(r.target).get(r.source).delete(r.id),0==this.inNeighborsIndex.get(r.target).get(r.source).size&&this.inNeighborsIndex.get(r.target).delete(r.source),this.outNeighborsIndex.get(r.source).get(r.target).delete(r.id),0==this.outNeighborsIndex.get(r.source).get(r.target).size&&this.outNeighborsIndex.get(r.source).delete(r.target),this.allNeighborsIndex.get(r.source).get(r.target).delete(r.id),0==this.allNeighborsIndex.get(r.source).get(r.target).size&&this.allNeighborsIndex.get(r.source).delete(r.target),r.target!==r.source&&(this.allNeighborsIndex.get(r.target).get(r.source).delete(r.id),0==this.allNeighborsIndex.get(r.target).get(r.source).size&&this.allNeighborsIndex.get(r.target).delete(r.source)),this})),h.addMethod("kill",(function(){this.nodesArray.length=0,this.edgesArray.length=0,delete this.nodesArray,delete this.edgesArray,delete this.nodesIndex,delete this.edgesIndex,delete this.inNeighborsIndex,delete this.outNeighborsIndex,delete this.allNeighborsIndex})),h.addMethod("clear",(function(){return this.nodesArray.length=0,this.edgesArray.length=0,this.nodesIndex.clear(),this.edgesIndex.clear(),this.nodesIndex.clear(),this.inNeighborsIndex.clear(),this.outNeighborsIndex.clear(),this.allNeighborsIndex.clear(),this})),h.addMethod("read",(function(e){var t,i,r;for(t=0,r=(i=e.nodes||[]).length;t<r;t++)this.addNode(i[t]);for(t=0,r=(i=e.edges||[]).length;t<r;t++)this.addEdge(i[t]);return this})),h.addMethod("nodes",(function(e){if(!arguments.length)return this.nodesArray.slice(0);if(1===arguments.length&&("string"==typeof e||"number"==typeof e))return this.nodesIndex.get(e);if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(e)){var t,i,r=[];for(t=0,i=e.length;t<i;t++){if("string"!=typeof e[t]&&"number"!=typeof e[t])throw"nodes: Wrong arguments.";r.push(this.nodesIndex.get(e[t]))}return r}throw"nodes: Wrong arguments."})),h.addMethod("degree",(function(e,t){if(t={in:this.inNeighborsIndex,out:this.outNeighborsIndex}[t||""]||this.allNeighborsIndex,"string"==typeof e||"number"==typeof e)return t.get(e).size;if("[object Array]"===Object.prototype.toString.call(e)){var i,r,n=[];for(i=0,r=e.length;i<r;i++){if("string"!=typeof e[i]&&"number"!=typeof e[i])throw"degree: Wrong arguments.";n.push(t.get(e[i]).size)}return n}throw"degree: Wrong arguments."})),h.addMethod("edges",(function(e){if(!arguments.length)return this.edgesArray.slice(0);if(1===arguments.length&&("string"==typeof e||"number"==typeof e))return this.edgesIndex.get(e);if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(e)){var t,i,r=[];for(t=0,i=e.length;t<i;t++){if("string"!=typeof e[t]&&"number"!=typeof e[t])throw"edges: Wrong arguments.";r.push(this.edgesIndex.get(e[t]))}return r}throw"edges: Wrong arguments."})),void 0!==i?(i.classes=i.classes||Object.create(null),i.classes.graph=h):(e.exports&&(t=e.exports=h),t.graph=h)}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.classes"),i.classes.camera=function(e,t,r,n){i.classes.dispatcher.extend(this),Object.defineProperty(this,"graph",{value:t}),Object.defineProperty(this,"id",{value:e}),Object.defineProperty(this,"readPrefix",{value:"read_cam"+e+":"}),Object.defineProperty(this,"prefix",{value:"cam"+e+":"}),this.x=0,this.y=0,this.ratio=1,this.angle=0,this.isAnimated=!1,this.settings="object"==typeof n&&n?r.embedObject(n):r},i.classes.camera.prototype.goTo=function(t){if(!this.settings("enableCamera"))return this;var i,r,n=t||{},s="ratio"in t&&!this.settings("zoomOnLocation")?["ratio","angle"]:["x","y","ratio","angle"];for(i=0,r=s.length;i<r;i++)if(n[s[i]]!==e){if("number"!=typeof n[s[i]]||isNaN(n[s[i]]))throw'Value for "'+s[i]+'" is not a number.';this[s[i]]=n[s[i]]}return this.dispatchEvent("coordinatesUpdated"),this},i.classes.camera.prototype.applyView=function(t,i,r){r=r||{},i=i!==e?i:this.prefix,t=t!==e?t:this.readPrefix;var n,s,o,a=r.nodes||this.graph.nodes(),l=r.edges||this.graph.edges(),d=Math.cos(this.angle)/this.ratio,c=Math.sin(this.angle)/this.ratio,h=Math.pow(this.ratio,this.settings("nodesPowRatio")),u=Math.pow(this.ratio,this.settings("edgesPowRatio")),g=(r.width||0)/2-this.x*d-this.y*c,f=(r.height||0)/2-this.y*d+this.x*c;for(n=0,s=a.length;n<s;n++)(o=a[n])[i+"x"]=(o[t+"x"]||0)*d+(o[t+"y"]||0)*c+g,o[i+"y"]=(o[t+"y"]||0)*d-(o[t+"x"]||0)*c+f,o[i+"size"]=(o[t+"size"]||0)/h;for(n=0,s=l.length;n<s;n++)l[n][i+"size"]=(l[n][t+"size"]||0)/u;return this},i.classes.camera.prototype.graphPosition=function(e,t,i){var r=0,n=0,s=Math.cos(this.angle),o=Math.sin(this.angle);return i||(r=-(this.x*s+this.y*o)/this.ratio,n=-(this.y*s-this.x*o)/this.ratio),{x:(e*s+t*o)/this.ratio+r,y:(t*s-e*o)/this.ratio+n}},i.classes.camera.prototype.cameraPosition=function(e,t,i){var r=0,n=0,s=Math.cos(this.angle),o=Math.sin(this.angle);return i||(r=-(this.x*s+this.y*o)/this.ratio,n=-(this.y*s-this.x*o)/this.ratio),{x:((e-r)*s-(t-n)*o)*this.ratio,y:((t-n)*s+(e-r)*o)*this.ratio}},i.classes.camera.prototype.getMatrix=function(){var e=i.utils.matrices.scale(1/this.ratio),t=i.utils.matrices.rotation(this.angle),r=i.utils.matrices.translation(-this.x,-this.y);return i.utils.matrices.multiply(r,i.utils.matrices.multiply(t,e))},i.classes.camera.prototype.getRectangle=function(e,t){var i=this.cameraPosition(e,0,!0),r=this.cameraPosition(0,t,!0),n=this.cameraPosition(e/2,t/2,!0),s=this.cameraPosition(e/4,0,!0).x,o=this.cameraPosition(0,t/4,!0).y;return{x1:this.x-n.x-s,y1:this.y-n.y-o,x2:this.x-n.x+s+i.x,y2:this.y-n.y-o+i.y,height:Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y+2*o,2))}}}.call(k),function(r){var n={pointToSquare:function(e){return{x1:e.x-e.size,y1:e.y-e.size,x2:e.x+e.size,y2:e.y-e.size,height:2*e.size}},lineToSquare:function(e){return e.y1<e.y2?e.x1<e.x2?{x1:e.x1-e.size,y1:e.y1-e.size,x2:e.x2+e.size,y2:e.y1-e.size,height:e.y2-e.y1+2*e.size}:{x1:e.x2-e.size,y1:e.y1-e.size,x2:e.x1+e.size,y2:e.y1-e.size,height:e.y2-e.y1+2*e.size}:e.x1<e.x2?{x1:e.x1-e.size,y1:e.y2-e.size,x2:e.x2+e.size,y2:e.y2-e.size,height:e.y1-e.y2+2*e.size}:{x1:e.x2-e.size,y1:e.y2-e.size,x2:e.x1+e.size,y2:e.y2-e.size,height:e.y1-e.y2+2*e.size}},quadraticCurveToSquare:function(e,t){var r=i.utils.getPointOnQuadraticCurve(.5,e.x1,e.y1,e.x2,e.y2,t.x,t.y),n=Math.min(e.x1,e.x2,r.x),s=Math.max(e.x1,e.x2,r.x),o=Math.min(e.y1,e.y2,r.y),a=Math.max(e.y1,e.y2,r.y);return{x1:n-e.size,y1:o-e.size,x2:s+e.size,y2:o-e.size,height:a-o+2*e.size}},selfLoopToSquare:function(e){var t=i.utils.getSelfLoopControlPoints(e.x,e.y,e.size),r=Math.min(e.x,t.x1,t.x2),n=Math.max(e.x,t.x1,t.x2),s=Math.min(e.y,t.y1,t.y2),o=Math.max(e.y,t.y1,t.y2);return{x1:r-e.size,y1:s-e.size,x2:n+e.size,y2:s-e.size,height:o-s+2*e.size}},isAxisAligned:function(e){return e.x1===e.x2||e.y1===e.y2},axisAlignedTopPoints:function(e){return e.y1===e.y2&&e.x1<e.x2?e:e.x1===e.x2&&e.y2>e.y1?{x1:e.x1-e.height,y1:e.y1,x2:e.x1,y2:e.y1,height:e.height}:e.x1===e.x2&&e.y2<e.y1?{x1:e.x1,y1:e.y2,x2:e.x2+e.height,y2:e.y2,height:e.height}:{x1:e.x2,y1:e.y1-e.height,x2:e.x1,y2:e.y1-e.height,height:e.height}},lowerLeftCoor:function(e){var t=Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1));return{x:e.x1-(e.y2-e.y1)*e.height/t,y:e.y1+(e.x2-e.x1)*e.height/t}},lowerRightCoor:function(e,t){return{x:t.x-e.x1+e.x2,y:t.y-e.y1+e.y2}},rectangleCorners:function(e){var t=this.lowerLeftCoor(e),i=this.lowerRightCoor(e,t);return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:t.x,y:t.y},{x:i.x,y:i.y}]},splitSquare:function(e){return[[{x:e.x,y:e.y},{x:e.x+e.width/2,y:e.y},{x:e.x,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height/2}],[{x:e.x+e.width/2,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2}],[{x:e.x,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x,y:e.y+e.height},{x:e.x+e.width/2,y:e.y+e.height}],[{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height},{x:e.x+e.width,y:e.y+e.height}]]},axis:function(e,t){return[{x:e[1].x-e[0].x,y:e[1].y-e[0].y},{x:e[1].x-e[3].x,y:e[1].y-e[3].y},{x:t[0].x-t[2].x,y:t[0].y-t[2].y},{x:t[0].x-t[1].x,y:t[0].y-t[1].y}]},projection:function(e,t){var i=(e.x*t.x+e.y*t.y)/(t.x*t.x+t.y*t.y);return{x:i*t.x,y:i*t.y}},axisCollision:function(e,t,i){for(var r=[],n=[],s=0;s<4;s++){var o=this.projection(t[s],e),a=this.projection(i[s],e);r.push(o.x*e.x+o.y*e.y),n.push(a.x*e.x+a.y*e.y)}var l=Math.max.apply(Math,r),d=Math.max.apply(Math,n),c=Math.min.apply(Math,r);return Math.min.apply(Math,n)<=l&&d>=c},collision:function(e,t){for(var i=this.axis(e,t),r=!0,n=0;n<4;n++)r=r&&this.axisCollision(i[n],e,t);return r}};function s(e,t){for(var i=[],r=0;r<4;r++)e.x2>=t[r][0].x&&e.x1<=t[r][1].x&&e.y1+e.height>=t[r][0].y&&e.y1<=t[r][2].y&&i.push(r);return i}function o(e,t){for(var i=[],r=0;r<4;r++)n.collision(e,t[r])&&i.push(r);return i}function a(e,t){var i,r,n=t.level+1,s=Math.round(t.bounds.width/2),o=Math.round(t.bounds.height/2),a=Math.round(t.bounds.x),l=Math.round(t.bounds.y);switch(e){case 0:i=a,r=l;break;case 1:i=a+s,r=l;break;case 2:i=a,r=l+o;break;case 3:i=a+s,r=l+o}return d({x:i,y:r,width:s,height:o},n,t.maxElements,t.maxLevel)}function l(e,t,i){if(i.level<i.maxLevel)for(var n=s(t,i.corners),o=0,d=n.length;o<d;o++)i.nodes[n[o]]===r&&(i.nodes[n[o]]=a(n[o],i)),l(e,t,i.nodes[n[o]]);else i.elements.push(e)}function d(e,t,i,r){return{level:t||0,bounds:e,corners:n.splitSquare(e),maxElements:i||20,maxLevel:r||4,elements:[],nodes:[]}}var c=function(e){this._geom=n,this._tree=null,this._cache={query:!1,result:!1},this._enabled=!0,this._indexEdges=e||!1};c.prototype.index=function(e,t){if(!this._enabled)return this._tree;if(!t.bounds)throw"sigma.classes.quad.index: bounds information not given.";var r,s,o,a,c,h,u,g=t.prefix||"",f=t.curvatureCoefficients;if(this._tree=d(t.bounds,0,t.maxElements,t.maxLevel),this._indexEdges){var m=e.edges();for(a=0,c=m.length;a<c;a++)s=e.nodes(m[a].source),o=e.nodes(m[a].target),u={x1:s[g+"x"],y1:s[g+"y"],x2:o[g+"x"],y2:o[g+"y"],size:m[a][g+"size"]||0},"curve"===m[a].type||"curvedArrow"===m[a].type?s.id===o.id?(h={x:s[g+"x"],y:s[g+"y"],size:s[g+"size"]||0},l(m[a],n.selfLoopToSquare(h),this._tree)):(r=i.utils.getQuadraticControlPoint(u.x1,u.y1,u.x2,u.y2,m[a].cc||f),l(m[a],n.quadraticCurveToSquare(u,r),this._tree)):l(m[a],n.lineToSquare(u),this._tree)}else{var p=e.nodes();for(a=0,c=p.length;a<c;a++)l(p[a],n.pointToSquare({x:p[a][g+"x"],y:p[a][g+"y"],size:p[a][g+"size"]}),this._tree)}return this._cache={query:!1,result:!1},this._tree},c.prototype.point=function(e,t){return this._enabled&&this._tree&&function e(t,i){if(i.level<i.maxLevel){var n=function(e,t){var i=t.x+t.width/2,r=t.y+t.height/2,n=e.y<r,s=e.x<i;return n?s?0:1:s?2:3}(t,i.bounds);return i.nodes[n]!==r?e(t,i.nodes[n]):[]}return i.elements}({x:e,y:t},this._tree)||[]},c.prototype.area=function(e){if(!this._enabled)return[];var t,i,a=JSON.stringify(e);if(this._cache.query===a)return this._cache.result;n.isAxisAligned(e)?(t=s,i=n.axisAlignedTopPoints(e)):(t=o,i=n.rectangleCorners(e));var l=this._tree?function e(t,i,n,s){if(s=s||{},i.level<i.maxLevel)for(var o=n(t,i.corners),a=0,l=o.length;a<l;a++)i.nodes[o[a]]!==r&&e(t,i.nodes[o[a]],n,s);else for(var d=0,c=i.elements.length;d<c;d++)s[i.elements[d].id]===r&&(s[i.elements[d].id]=i.elements[d]);return s}(i,this._tree,t):[],d=[];for(var c in l)d.push(l[c]);return this._cache.query=a,this._cache.result=d,d},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.quad=c,this.sigma.classes.edgequad=c.bind(this,!0)):(e.exports&&(t=e.exports=c),t.quad=c)}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.captors"),i.captors.mouse=function(e,t,r){var n,s,o,a,l,d,c,h,u,g,f,m=this,p=e,y=t,v=r;function x(e){var t,r,g;if(v("mouseEnabled")&&(m.dispatchEvent("mousemove",i.utils.mouseCoords(e)),c))return h=!0,u=!0,f&&clearTimeout(f),f=setTimeout((function(){h=!1}),v("dragTimeout")),i.misc.animation.killAll(y),y.isMoving=!0,g=y.cameraPosition(i.utils.getX(e)-l,i.utils.getY(e)-d,!0),t=n-g.x,r=s-g.y,t===y.x&&r===y.y||(o=y.x,a=y.y,y.goTo({x:t,y:r})),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1}function b(e){if(v("mouseEnabled")&&c){c=!1,f&&clearTimeout(f),y.isMoving=!1;var t=i.utils.getX(e),r=i.utils.getY(e);h?(i.misc.animation.killAll(y),i.misc.animation.camera(y,{x:y.x+v("mouseInertiaRatio")*(y.x-o),y:y.y+v("mouseInertiaRatio")*(y.y-a)},{easing:"quadraticOut",duration:v("mouseInertiaDuration")})):l===t&&d===r||y.goTo({x:y.x,y:y.y}),m.dispatchEvent("mouseup",i.utils.mouseCoords(e)),h=!1}}function E(e){if(v("mouseEnabled"))switch(n=y.x,s=y.y,o=y.x,a=y.y,l=i.utils.getX(e),d=i.utils.getY(e),u=!1,g=(new Date).getTime(),e.which){case 2:break;case 3:m.dispatchEvent("rightclick",i.utils.mouseCoords(e,l,d));break;default:c=!0,m.dispatchEvent("mousedown",i.utils.mouseCoords(e,l,d))}}function w(t){m.eltFocused=!1,e.blur(),v("mouseEnabled")&&m.dispatchEvent("mouseout")}function A(t){if(m.eltFocused=!0,e.focus(),v("mouseEnabled")){var r=i.utils.mouseCoords(t);r.isDragging=(new Date).getTime()-g>100&&u,m.dispatchEvent("click",r)}return t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}function T(e){var t,r,n;if(v("mouseEnabled")&&v("mouseWheelEnabled")&&(!v("clickToFocus")||m.eltFocused))return r=i.utils.getDelta(e)>0?1/v("zoomingRatio"):v("zoomingRatio"),t=y.cameraPosition(i.utils.getX(e)-i.utils.getCenter(e).x,i.utils.getY(e)-i.utils.getCenter(e).y,!0),n={duration:v("mouseZoomDuration")},i.utils.zoomTo(y,t.x,t.y,r,n),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1}this.eltFocused=!1,i.classes.dispatcher.extend(this),i.utils.doubleClick(p,"click",(function(e){var t,r,n;if(v("mouseEnabled"))return r=1/v("doubleClickZoomingRatio"),m.dispatchEvent("doubleclick",i.utils.mouseCoords(e,l,d)),v("doubleClickEnabled")&&(t=y.cameraPosition(i.utils.getX(e)-i.utils.getCenter(e).x,i.utils.getY(e)-i.utils.getCenter(e).y,!0),n={duration:v("doubleClickZoomDuration")},i.utils.zoomTo(y,t.x,t.y,r,n)),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1})),p.addEventListener("DOMMouseScroll",T,!1),p.addEventListener("mousewheel",T,!1),p.addEventListener("mousemove",x,!1),p.addEventListener("mousedown",E,!1),p.addEventListener("click",A,!1),p.addEventListener("mouseout",w,!1),p.addEventListener("mouseenter",(function(t){v("clickToFocus")||e.focus()}),!1),document.addEventListener("mouseup",b,!1),this.kill=function(){i.utils.unbindDoubleClick(p,"click"),p.removeEventListener("DOMMouseScroll",T),p.removeEventListener("mousewheel",T),p.removeEventListener("mousemove",x),p.removeEventListener("mousedown",E),p.removeEventListener("click",A),p.removeEventListener("mouseout",w),document.removeEventListener("mouseup",b)}}}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.captors"),i.captors.touch=function(e,t,r){var n,s,o,a,l,d,c,h,u,g,f,m,p,y,v,x,b=this,E=e,w=t,A=r,T=[];function S(e){var t=i.utils.getOffset(E);return{x:e.pageX-t.left,y:e.pageY-t.top}}function C(e){var t,i,r,y,v,x;if(A("touchEnabled"))switch((T=e.touches).length){case 1:w.isMoving=!0,p=1,n=w.x,s=w.y,l=w.x,d=w.y,v=S(T[0]),c=v.x,h=v.y;break;case 2:return w.isMoving=!0,p=2,v=S(T[0]),x=S(T[1]),t=v.x,r=v.y,i=x.x,y=x.y,l=w.x,d=w.y,o=w.angle,a=w.ratio,n=w.x,s=w.y,c=t,h=r,u=i,g=y,f=Math.atan2(g-h,u-c),m=Math.sqrt((g-h)*(g-h)+(u-c)*(u-c)),e.preventDefault(),!1}}function _(e){if(A("touchEnabled")){T=e.touches;var t=A("touchInertiaRatio");switch(x&&(y=!1,clearTimeout(x)),p){case 2:if(1===e.touches.length){C(e),e.preventDefault();break}case 1:w.isMoving=!1,b.dispatchEvent("stopDrag"),y&&(v=!1,i.misc.animation.camera(w,{x:w.x+t*(w.x-l),y:w.y+t*(w.y-d)},{easing:"quadraticOut",duration:A("touchInertiaDuration")})),y=!1,p=0}}}function P(e){if(!v&&A("touchEnabled")){var t,r,E,C,_,P,N,k,M,z,L,R,O,I,F,B,j;switch(T=e.touches,y=!0,x&&clearTimeout(x),x=setTimeout((function(){y=!1}),A("dragTimeout")),p){case 1:t=(k=S(T[0])).x,E=k.y,z=w.cameraPosition(t-c,E-h,!0),I=n-z.x,F=s-z.y,I===w.x&&F===w.y||(l=w.x,d=w.y,w.goTo({x:I,y:F}),b.dispatchEvent("mousemove",i.utils.mouseCoords(e,k.x,k.y)),b.dispatchEvent("drag"));break;case 2:k=S(T[0]),M=S(T[1]),t=k.x,E=k.y,r=M.x,C=M.y,L=w.cameraPosition((c+u)/2-i.utils.getCenter(e).x,(h+g)/2-i.utils.getCenter(e).y,!0),N=w.cameraPosition((t+r)/2-i.utils.getCenter(e).x,(E+C)/2-i.utils.getCenter(e).y,!0),R=Math.atan2(C-E,r-t)-f,O=Math.sqrt((C-E)*(C-E)+(r-t)*(r-t))/m,t=L.x,E=L.y,B=a/O,E*=O,j=o-R,r=(t*=O)*(_=Math.cos(-R))+E*(P=Math.sin(-R)),E=C=E*_-t*P,I=(t=r)-N.x+n,F=E-N.y+s,B===w.ratio&&j===w.angle&&I===w.x&&F===w.y||(l=w.x,d=w.y,w.angle,w.ratio,w.goTo({x:I,y:F,angle:j,ratio:B}),b.dispatchEvent("drag"))}return e.preventDefault(),!1}}i.classes.dispatcher.extend(this),i.utils.doubleClick(E,"touchstart",(function(e){var t,r,n;if(e.touches&&1===e.touches.length&&A("touchEnabled"))return v=!0,r=1/A("doubleClickZoomingRatio"),t=S(e.touches[0]),b.dispatchEvent("doubleclick",i.utils.mouseCoords(e,t.x,t.y)),A("doubleClickEnabled")&&(t=w.cameraPosition(t.x-i.utils.getCenter(e).x,t.y-i.utils.getCenter(e).y,!0),n={duration:A("doubleClickZoomDuration"),onComplete:function(){v=!1}},i.utils.zoomTo(w,t.x,t.y,r,n)),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1})),E.addEventListener("touchstart",C,!1),E.addEventListener("touchend",_,!1),E.addEventListener("touchcancel",_,!1),E.addEventListener("touchleave",_,!1),E.addEventListener("touchmove",P,!1),this.kill=function(){i.utils.unbindDoubleClick(E,"touchstart"),E.addEventListener("touchstart",C),E.addEventListener("touchend",_),E.addEventListener("touchcancel",_),E.addEventListener("touchleave",_),E.addEventListener("touchmove",P)}}}.call(k),function(e){if(void 0===i)throw"sigma is not declared";if(void 0===r)throw"conrad is not declared";i.utils.pkg("sigma.renderers"),i.renderers.canvas=function(e,t,r,n){if("object"!=typeof n)throw"sigma.renderers.canvas: Wrong arguments.";if(!(n.container instanceof HTMLElement))throw"Container not found.";var s,o,a,l;for(i.classes.dispatcher.extend(this),Object.defineProperty(this,"conradId",{value:i.utils.id()}),this.graph=e,this.camera=t,this.contexts={},this.domElements={},this.options=n,this.container=this.options.container,this.settings="object"==typeof n.settings&&n.settings?r.embedObjects(n.settings):r,this.nodesOnScreen=[],this.edgesOnScreen=[],this.jobs={},this.options.prefix="renderer"+this.conradId+":",this.settings("batchEdgesDrawing")?(this.initDOM("canvas","edges"),this.initDOM("canvas","scene"),this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene):(this.initDOM("canvas","scene"),this.contexts.edges=this.contexts.scene,this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],s=0,o=(a=this.options.captors||[i.captors.mouse,i.captors.touch]).length;s<o;s++)l="function"==typeof a[s]?a[s]:i.captors[a[s]],this.captors.push(new l(this.domElements.mouse,this.camera,this.settings));i.misc.bindEvents.call(this,this.options.prefix),i.misc.drawHovers.call(this,this.options.prefix),this.resize(!1)},i.renderers.canvas.applyRenderers=function(e){var t,i,r=e.elements,n={font:e.ctx.font},s=e.elements||"edges"==e.type?"defaultEdgeType":"defaultNodeType";for(e.start=e.start||0,e.end=e.end||e.elements.length,e.end=Math.min(e.elements.length,e.end),e.ctx.save(),t=e.start;t<e.end;t++)r[t].hidden||(i=e.renderers[r[t].type||e.settings(s)]||e.renderers.def,"edges"==e.type?i(r[t],e.graph.nodes(r[t].source),e.graph.nodes(r[t].target),e.ctx,e.settings,{ctx:n}):i(r[t],e.ctx,e.settings,{ctx:n}));e.ctx.restore()},i.renderers.canvas.prototype.renderEdges=function(e,t,r){var n={renderers:i.canvas.edges,type:"edges",elements:this.edgesOnScreen,ctx:this.contexts.edges,start:e,end:t,graph:this.graph,settings:r};i.renderers.canvas.applyRenderers(n),r("drawEdgeLabels")&&(n.renderers=i.canvas.edges.labels,n.ctx=this.contexts.labels,i.renderers.canvas.applyRenderers(n))},i.renderers.canvas.prototype.render=function(t){t=t||{},this.dispatchEvent("beforeRender");var n,s,o,a,l,d,c,h,u,g,f,m,p={},y=this.graph,v=this.graph.nodes,x=(this.options.prefix,this.settings(t,"drawEdges")),b=this.settings(t,"drawNodes"),E=this.settings(t,"drawLabels"),w=this.settings.embedObjects(t,{prefix:this.options.prefix});for(o in this.resize(!1),this.settings(t,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(x=!1),this.camera.applyView(e,this.options.prefix,{width:this.width,height:this.height}),this.clear(),this.jobs)r.hasJob(o)&&r.killJob(o);for(this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),s=0,a=(n=this.nodesOnScreen).length;s<a;s++)p[n[s].id]=n[s];if(x){if(this.edgesOnScreen=[],w("edgesClippingWithNodes"))for(s=0,a=(n=y.edges()).length;s<a;s++)!p[(l=n[s]).source]&&!p[l.target]||l.hidden||v(l.source).hidden||v(l.target).hidden||this.edgesOnScreen.push(l);else this.edgesOnScreen=this.camera.edgequadtree.area(this.camera.getRectangle(this.width,this.height));w("batchEdgesDrawing")?(d="edges_"+this.conradId,f=w("canvasEdgesBatchSize"),a=(g=this.edgesOnScreen).length,u=0,c=Math.min(g.length,u+f),h=function(){return m=this.contexts.edges.globalCompositeOperation,this.contexts.edges.globalCompositeOperation="destination-over",this.renderEdges(u,c,w),this.contexts.edges.globalCompositeOperation=m,c===g.length?(delete this.jobs[d],!1):(u=c+1,c=Math.min(g.length,u+f),!0)},this.jobs[d]=h,r.addJob(d,h.bind(this))):this.renderEdges(0,this.edgesOnScreen.length,w)}return b&&i.renderers.canvas.applyRenderers({renderers:i.canvas.nodes,type:"nodes",ctx:this.contexts.nodes,elements:this.nodesOnScreen,settings:w}),E&&i.renderers.canvas.applyRenderers({renderers:i.canvas.labels,type:"nodes",ctx:this.contexts.labels,elements:this.nodesOnScreen,settings:w}),this.dispatchEvent("render"),this},i.renderers.canvas.prototype.initDOM=function(e,t){var i=document.createElement(e);i.style.position="absolute",i.setAttribute("class","sigma-"+t),this.domElements[t]=i,this.container.appendChild(i),"canvas"===e.toLowerCase()&&(this.contexts[t]=i.getContext("2d"))},i.renderers.canvas.prototype.resize=function(t,r){var n,s=this.width,o=this.height,a=i.utils.getPixelRatio();if(t!==e&&r!==e?(this.width=t,this.height=r):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,r=this.height),s!==this.width||o!==this.height)for(n in this.domElements)this.domElements[n].style.width=t+"px",this.domElements[n].style.height=r+"px","canvas"===this.domElements[n].tagName.toLowerCase()&&(this.domElements[n].setAttribute("width",t*a+"px"),this.domElements[n].setAttribute("height",r*a+"px"),1!==a&&this.contexts[n].scale(a,a));return this},i.renderers.canvas.prototype.clear=function(){for(var e in this.contexts)this.contexts[e].clearRect(0,0,this.width,this.height);return this},i.renderers.canvas.prototype.kill=function(){for(var e,t;t=this.captors.pop();)t.kill();for(e in delete this.captors,this.domElements)this.domElements[e].parentNode.removeChild(this.domElements[e]),delete this.domElements[e],delete this.contexts[e];delete this.domElements,delete this.contexts},i.utils.pkg("sigma.canvas.nodes"),i.utils.pkg("sigma.canvas.edges"),i.utils.pkg("sigma.canvas.labels")}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.renderers"),i.renderers.webgl=function(e,t,r,n){if("object"!=typeof n)throw"sigma.renderers.webgl: Wrong arguments.";if(!(n.container instanceof HTMLElement))throw"Container not found.";var s,o,a,l;for(i.classes.dispatcher.extend(this),this.jobs={},Object.defineProperty(this,"conradId",{value:i.utils.id()}),this.graph=e,this.camera=t,this.contexts={},this.domElements={},this.options=n,this.container=this.options.container,this.settings="object"==typeof n.settings&&n.settings?r.embedObjects(n.settings):r,this.options.prefix=this.camera.readPrefix,Object.defineProperty(this,"nodePrograms",{value:{}}),Object.defineProperty(this,"edgePrograms",{value:{}}),Object.defineProperty(this,"nodeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeIndicesArrays",{value:{}}),this.settings(n,"batchEdgesDrawing")?(this.initDOM("canvas","edges",!0),this.initDOM("canvas","nodes",!0)):(this.initDOM("canvas","scene",!0),this.contexts.nodes=this.contexts.scene,this.contexts.edges=this.contexts.scene),this.initDOM("canvas","labels"),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],s=0,o=(a=this.options.captors||[i.captors.mouse,i.captors.touch]).length;s<o;s++)l="function"==typeof a[s]?a[s]:i.captors[a[s]],this.captors.push(new l(this.domElements.mouse,this.camera,this.settings));i.misc.bindEvents.call(this,this.camera.prefix),i.misc.drawHovers.call(this,this.camera.prefix),this.resize()},i.renderers.webgl.prototype.process=function(){var e,t,r,n,s,o,a=this.graph,l=i.utils.extend(l,this.options),d=this.settings(l,"defaultEdgeType"),c=this.settings(l,"defaultNodeType");for(n in this.nodeFloatArrays)delete this.nodeFloatArrays[n];for(n in this.edgeFloatArrays)delete this.edgeFloatArrays[n];for(n in this.edgeIndicesArrays)delete this.edgeIndicesArrays[n];for(t=0,r=(e=a.edges()).length;t<r;t++)n=(s=e[t].type||d)&&i.webgl.edges[s]?s:"def",this.edgeFloatArrays[n]||(this.edgeFloatArrays[n]={edges:[]}),this.edgeFloatArrays[n].edges.push(e[t]);for(t=0,r=(e=a.nodes()).length;t<r;t++)n=(s=e[t].type||c)&&i.webgl.nodes[s]?s:"def",this.nodeFloatArrays[n]||(this.nodeFloatArrays[n]={nodes:[]}),this.nodeFloatArrays[n].nodes.push(e[t]);for(n in this.edgeFloatArrays){for(o=i.webgl.edges[n],e=this.edgeFloatArrays[n].edges,this.edgeFloatArrays[n].array=new Float32Array(e.length*o.POINTS*o.ATTRIBUTES),t=0,r=e.length;t<r;t++)e[t].hidden||a.nodes(e[t].source).hidden||a.nodes(e[t].target).hidden||o.addEdge(e[t],a.nodes(e[t].source),a.nodes(e[t].target),this.edgeFloatArrays[n].array,t*o.POINTS*o.ATTRIBUTES,l.prefix,this.settings);"function"==typeof o.computeIndices&&(this.edgeIndicesArrays[n]=o.computeIndices(this.edgeFloatArrays[n].array))}for(n in this.nodeFloatArrays)for(o=i.webgl.nodes[n],e=this.nodeFloatArrays[n].nodes,this.nodeFloatArrays[n].array=new Float32Array(e.length*o.POINTS*o.ATTRIBUTES),t=0,r=e.length;t<r;t++)this.nodeFloatArrays[n].array||(this.nodeFloatArrays[n].array=new Float32Array(e.length*o.POINTS*o.ATTRIBUTES)),e[t].hidden||o.addNode(e[t],this.nodeFloatArrays[n].array,t*o.POINTS*o.ATTRIBUTES,l.prefix,this.settings);return this},i.renderers.webgl.prototype.render=function(t){var n,s,o,a,l,d,c=this,h=(this.graph,this.contexts.nodes),u=this.contexts.edges,g=this.camera.getMatrix(),f=i.utils.extend(t,this.options),m=this.settings(f,"drawLabels"),p=this.settings(f,"drawEdges"),y=this.settings(f,"drawNodes");for(a in this.resize(!1),this.settings(f,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(p=!1),this.clear(),g=i.utils.matrices.multiply(g,i.utils.matrices.translation(this.width/2,this.height/2)),this.jobs)r.hasJob(a)&&r.killJob(a);if(p)if(this.settings(f,"batchEdgesDrawing"))(function(){var e,t,n,s,o,a,l,d,c,h;n="edges_"+this.conradId,h=this.settings(f,"webglEdgesBatchSize"),(e=Object.keys(this.edgeFloatArrays)).length&&(t=0,c=i.webgl.edges[e[t]],o=this.edgeFloatArrays[e[t]].array,d=this.edgeIndicesArrays[e[t]],l=0,a=Math.min(l+h*c.POINTS,o.length/c.ATTRIBUTES),s=function(){return this.edgePrograms[e[t]]||(this.edgePrograms[e[t]]=c.initProgram(u)),l<a&&(u.useProgram(this.edgePrograms[e[t]]),c.render(u,this.edgePrograms[e[t]],o,{settings:this.settings,matrix:g,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(f,"webglOversamplingRatio"),start:l,count:a-l,indicesData:d})),a>=o.length/c.ATTRIBUTES&&t===e.length-1?(delete this.jobs[n],!1):(a>=o.length/c.ATTRIBUTES?(t++,o=this.edgeFloatArrays[e[t]].array,c=i.webgl.edges[e[t]],l=0,a=Math.min(l+h*c.POINTS,o.length/c.ATTRIBUTES)):(l=a,a=Math.min(l+h*c.POINTS,o.length/c.ATTRIBUTES)),!0)},this.jobs[n]=s,r.addJob(n,s.bind(this)))}).call(this);else for(a in this.edgeFloatArrays)d=i.webgl.edges[a],this.edgePrograms[a]||(this.edgePrograms[a]=d.initProgram(u)),this.edgeFloatArrays[a]&&(u.useProgram(this.edgePrograms[a]),d.render(u,this.edgePrograms[a],this.edgeFloatArrays[a].array,{settings:this.settings,matrix:g,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(f,"webglOversamplingRatio"),indicesData:this.edgeIndicesArrays[a]}));if(y)for(a in h.blendFunc(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA),h.enable(h.BLEND),this.nodeFloatArrays)d=i.webgl.nodes[a],this.nodePrograms[a]||(this.nodePrograms[a]=d.initProgram(h)),this.nodeFloatArrays[a]&&(h.useProgram(this.nodePrograms[a]),d.render(h,this.nodePrograms[a],this.nodeFloatArrays[a].array,{settings:this.settings,matrix:g,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(f,"webglOversamplingRatio")}));if(m)for(n=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),this.camera.applyView(e,e,{nodes:n,edges:[],width:this.width,height:this.height}),l=function(e){return c.settings({prefix:c.camera.prefix},e)},s=0,o=n.length;s<o;s++)n[s].hidden||(i.canvas.labels[n[s].type||this.settings(f,"defaultNodeType")]||i.canvas.labels.def)(n[s],this.contexts.labels,l);return this.dispatchEvent("render"),this},i.renderers.webgl.prototype.initDOM=function(e,t,i){var r=document.createElement(e),n=this;r.style.position="absolute",r.setAttribute("class","sigma-"+t),this.domElements[t]=r,this.container.appendChild(r),"canvas"===e.toLowerCase()&&(this.contexts[t]=r.getContext(i?"experimental-webgl":"2d",{preserveDrawingBuffer:!0}),i&&(r.addEventListener("webglcontextlost",(function(e){e.preventDefault()}),!1),r.addEventListener("webglcontextrestored",(function(e){n.render()}),!1)))},i.renderers.webgl.prototype.resize=function(t,r){var n,s=this.width,o=this.height,a=i.utils.getPixelRatio();if(t!==e&&r!==e?(this.width=t,this.height=r):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,r=this.height),s!==this.width||o!==this.height)for(n in this.domElements)this.domElements[n].style.width=t+"px",this.domElements[n].style.height=r+"px","canvas"===this.domElements[n].tagName.toLowerCase()&&(this.contexts[n]&&this.contexts[n].scale?(this.domElements[n].setAttribute("width",t*a+"px"),this.domElements[n].setAttribute("height",r*a+"px"),1!==a&&this.contexts[n].scale(a,a)):(this.domElements[n].setAttribute("width",t*this.settings("webglOversamplingRatio")+"px"),this.domElements[n].setAttribute("height",r*this.settings("webglOversamplingRatio")+"px")));for(n in this.contexts)this.contexts[n]&&this.contexts[n].viewport&&this.contexts[n].viewport(0,0,this.width*this.settings("webglOversamplingRatio"),this.height*this.settings("webglOversamplingRatio"));return this},i.renderers.webgl.prototype.clear=function(){return this.contexts.labels.clearRect(0,0,this.width,this.height),this.contexts.nodes.clear(this.contexts.nodes.COLOR_BUFFER_BIT),this.contexts.edges.clear(this.contexts.edges.COLOR_BUFFER_BIT),this},i.renderers.webgl.prototype.kill=function(){for(var e,t;t=this.captors.pop();)t.kill();for(e in delete this.captors,this.domElements)this.domElements[e].parentNode.removeChild(this.domElements[e]),delete this.domElements[e],delete this.contexts[e];delete this.domElements,delete this.contexts},i.utils.pkg("sigma.webgl.nodes"),i.utils.pkg("sigma.webgl.edges"),i.utils.pkg("sigma.canvas.labels")}.call(k),function(e){if(void 0===i)throw"sigma is not declared";if(void 0===r)throw"conrad is not declared";i.utils.pkg("sigma.renderers"),i.renderers.svg=function(e,t,r,n){if("object"!=typeof n)throw"sigma.renderers.svg: Wrong arguments.";if(!(n.container instanceof HTMLElement))throw"Container not found.";var s,o,a,l,d=this;for(i.classes.dispatcher.extend(this),this.graph=e,this.camera=t,this.domElements={graph:null,groups:{},nodes:{},edges:{},labels:{},edgelabels:{},hovers:{}},this.measurementCanvas=null,this.options=n,this.container=this.options.container,this.settings="object"==typeof n.settings&&n.settings?r.embedObjects(n.settings):r,this.settings("freeStyle",!!this.options.freeStyle),this.settings("xmlns","http://www.w3.org/2000/svg"),this.nodesOnScreen=[],this.edgesOnScreen=[],this.options.prefix="renderer"+i.utils.id()+":",this.initDOM("svg"),this.captors=[],s=0,o=(a=this.options.captors||[i.captors.mouse,i.captors.touch]).length;s<o;s++)l="function"==typeof a[s]?a[s]:i.captors[a[s]],this.captors.push(new l(this.domElements.graph,this.camera,this.settings));window.addEventListener("resize",(function(){d.resize()})),i.misc.bindDOMEvents.call(this,this.domElements.graph),this.bindHovers(this.options.prefix),this.resize(!1)},i.renderers.svg.prototype.render=function(t){t=t||{},this.dispatchEvent("beforeRender");var r,n,s,o,a,l,d,c,h,u={},g=this.graph,f=this.graph.nodes,m=(this.options.prefix,this.settings(t,"drawEdges")),p=this.settings(t,"drawNodes"),y=this.settings(t,"drawLabels"),v=this.settings(t,"drawEdgeLabels"),x=this.settings(t,"defaultEdgeType"),b=this.settings.embedObjects(t,{prefix:this.options.prefix,forceLabels:this.options.forceLabels});for(this.settings(t,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(m=!1),this.camera.applyView(e,this.options.prefix,{width:this.width,height:this.height}),this.hideDOMElements(this.domElements.nodes),this.hideDOMElements(this.domElements.edges),this.hideDOMElements(this.domElements.labels),this.hideDOMElements(this.domElements.edgelabels),this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),n=0,o=(r=this.nodesOnScreen).length;n<o;n++)u[r[n].id]=r[n];for(n=0,o=(r=g.edges()).length;n<o;n++)!u[(a=r[n]).source]&&!u[a.target]||a.hidden||f(a.source).hidden||f(a.target).hidden||this.edgesOnScreen.push(a);if(c=i.svg.nodes,h=i.svg.labels,p)for(n=0,o=(r=this.nodesOnScreen).length;n<o;n++)r[n].hidden||this.domElements.nodes[r[n].id]||(s=(c[r[n].type]||c.def).create(r[n],b),this.domElements.nodes[r[n].id]=s,this.domElements.groups.nodes.appendChild(s),y&&(s=(h[r[n].type]||h.def).create(r[n],b),this.domElements.labels[r[n].id]=s,this.domElements.groups.labels.appendChild(s)));if(p)for(n=0,o=(r=this.nodesOnScreen).length;n<o;n++)r[n].hidden||((c[r[n].type]||c.def).update(r[n],this.domElements.nodes[r[n].id],b),y&&(h[r[n].type]||h.def).update(r[n],this.domElements.labels[r[n].id],b));if(c=i.svg.edges,h=i.svg.edges.labels,m)for(n=0,o=(r=this.edgesOnScreen).length;n<o;n++)this.domElements.edges[r[n].id]||(l=f(r[n].source),d=f(r[n].target),s=(c[r[n].type]||c[x]||c.def).create(r[n],l,d,b),this.domElements.edges[r[n].id]=s,this.domElements.groups.edges.appendChild(s),v&&(s=(h[r[n].type]||h[x]||h.def).create(r[n],b),this.domElements.edgelabels[r[n].id]=s,this.domElements.groups.edgelabels.appendChild(s)));if(m)for(n=0,o=(r=this.edgesOnScreen).length;n<o;n++)l=f(r[n].source),d=f(r[n].target),(c[r[n].type]||c[x]||c.def).update(r[n],this.domElements.edges[r[n].id],l,d,b),v&&(h[r[n].type]||h[x]||h.def).update(r[n],l,d,this.domElements.edgelabels[r[n].id],b);return this.dispatchEvent("render"),this},i.renderers.svg.prototype.initDOM=function(e){var t,i,r,n=document.createElementNS(this.settings("xmlns"),e),s=this.settings("classPrefix");n.style.position="absolute",n.setAttribute("class",s+"-svg"),n.setAttribute("xmlns",this.settings("xmlns")),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n.setAttribute("version","1.1");var o=document.createElement("canvas");o.setAttribute("class",s+"-measurement-canvas"),this.domElements.graph=this.container.appendChild(n);var a=["edges","nodes","edgelabels","labels","hovers"];for(r=0,i=a.length;r<i;r++)(t=document.createElementNS(this.settings("xmlns"),"g")).setAttributeNS(null,"id",s+"-group-"+a[r]),t.setAttributeNS(null,"class",s+"-group"),this.domElements.groups[a[r]]=this.domElements.graph.appendChild(t);this.container.appendChild(o),this.measurementCanvas=o.getContext("2d")},i.renderers.svg.prototype.hideDOMElements=function(e){var t,r;for(r in e)t=e[r],i.svg.utils.hide(t);return this},i.renderers.svg.prototype.bindHovers=function(e){var t,r=i.svg.hovers,n=this;this.bind("hovers",(function(i){var s,o=n.settings.embedObjects({prefix:e});if(o("enableHovering"))if(i.data.enter.nodes.length>0){s=i.data.enter.nodes[0];var a=(r[s.type]||r.def).create(s,n.domElements.nodes[s.id],n.measurementCanvas,o);n.domElements.hovers[s.id]=a,n.domElements.groups.hovers.appendChild(a),t=s}else i.data.leave.nodes.length>0&&(s=i.data.leave.nodes[0],n.domElements.groups.hovers.removeChild(n.domElements.hovers[s.id]),t=null,delete n.domElements.hovers[s.id],n.domElements.groups.nodes.appendChild(n.domElements.nodes[s.id]))})),this.bind("render",(function(){if(t){var i=n.settings.embedObjects({prefix:e});n.domElements.groups.hovers.removeChild(n.domElements.hovers[t.id]),delete n.domElements.hovers[t.id];var s=(r[t.type]||r.def).create(t,n.domElements.nodes[t.id],n.measurementCanvas,i);n.domElements.hovers[t.id]=s,n.domElements.groups.hovers.appendChild(s)}}))},i.renderers.svg.prototype.resize=function(t,i){var r=this.width,n=this.height;return t!==e&&i!==e?(this.width=t,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight),r===this.width&&n===this.height||(this.domElements.graph.style.width=this.width+"px",this.domElements.graph.style.height=this.height+"px"),this},i.utils.pkg("sigma.svg.nodes"),i.utils.pkg("sigma.svg.edges"),i.utils.pkg("sigma.svg.labels"),i.utils.pkg("sigma.svg.edgelabels")}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.renderers"),i.renderers.def=i.utils.isWebGLSupported()?i.renderers.webgl:i.renderers.canvas}(),i.utils.pkg("sigma.webgl.nodes"),i.webgl.nodes.def={POINTS:3,ATTRIBUTES:5,addNode:function(e,t,r,n,s){var o=i.utils.floatColor(e.color||s("defaultNodeColor"));t[r++]=e[n+"x"],t[r++]=e[n+"y"],t[r++]=e[n+"size"],t[r++]=o,t[r++]=0,t[r++]=e[n+"x"],t[r++]=e[n+"y"],t[r++]=e[n+"size"],t[r++]=o,t[r++]=2*Math.PI/3,t[r++]=e[n+"x"],t[r++]=e[n+"y"],t[r++]=e[n+"size"],t[r++]=o,t[r++]=4*Math.PI/3},render:function(e,t,i,r){var n,s=e.getAttribLocation(t,"a_position"),o=e.getAttribLocation(t,"a_size"),a=e.getAttribLocation(t,"a_color"),l=e.getAttribLocation(t,"a_angle"),d=e.getUniformLocation(t,"u_resolution"),c=e.getUniformLocation(t,"u_matrix"),h=e.getUniformLocation(t,"u_ratio"),u=e.getUniformLocation(t,"u_scale");n=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.uniform2f(d,r.width,r.height),e.uniform1f(h,1/Math.pow(r.ratio,r.settings("nodesPowRatio"))),e.uniform1f(u,r.scalingRatio),e.uniformMatrix3fv(c,!1,r.matrix),e.enableVertexAttribArray(s),e.enableVertexAttribArray(o),e.enableVertexAttribArray(a),e.enableVertexAttribArray(l),e.vertexAttribPointer(s,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(o,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(a,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),e.vertexAttribPointer(l,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),e.drawArrays(e.TRIANGLES,r.start||0,r.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,r;return t=i.utils.loadShader(e,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","attribute float a_angle;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","varying vec2 center;","varying float radius;","void main() {","radius = a_size * u_ratio;","vec2 position = (u_matrix * vec3(a_position, 1)).xy;","center = position * u_scale;","center = vec2(center.x, u_scale * u_resolution.y - center.y);","position = position +","2.0 * radius * vec2(cos(a_angle), sin(a_angle));","position = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);","radius = radius * u_scale;","gl_Position = vec4(position, 0, 1);","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),r=i.utils.loadShader(e,["precision mediump float;","varying vec4 color;","varying vec2 center;","varying float radius;","void main(void) {","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_FragCoord.xy - center;","float diff = radius - sqrt(m.x * m.x + m.y * m.y);","if (diff > 0.0)","gl_FragColor = color;","else","gl_FragColor = color0;","}"].join("\n"),e.FRAGMENT_SHADER),i.utils.loadProgram(e,[t,r])}},i.utils.pkg("sigma.webgl.nodes"),i.webgl.nodes.fast={POINTS:1,ATTRIBUTES:4,addNode:function(e,t,r,n,s){t[r++]=e[n+"x"],t[r++]=e[n+"y"],t[r++]=e[n+"size"],t[r++]=i.utils.floatColor(e.color||s("defaultNodeColor"))},render:function(e,t,i,r){var n,s=e.getAttribLocation(t,"a_position"),o=e.getAttribLocation(t,"a_size"),a=e.getAttribLocation(t,"a_color"),l=e.getUniformLocation(t,"u_resolution"),d=e.getUniformLocation(t,"u_matrix"),c=e.getUniformLocation(t,"u_ratio"),h=e.getUniformLocation(t,"u_scale");n=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.uniform2f(l,r.width,r.height),e.uniform1f(c,1/Math.pow(r.ratio,r.settings("nodesPowRatio"))),e.uniform1f(h,r.scalingRatio),e.uniformMatrix3fv(d,!1,r.matrix),e.enableVertexAttribArray(s),e.enableVertexAttribArray(o),e.enableVertexAttribArray(a),e.vertexAttribPointer(s,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(o,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(a,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),e.drawArrays(e.POINTS,r.start||0,r.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,r;return t=i.utils.loadShader(e,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","gl_PointSize = a_size * u_ratio * u_scale * 2.0;","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),r=i.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","float border = 0.01;","float radius = 0.5;","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_PointCoord - vec2(0.5, 0.5);","float dist = radius - sqrt(m.x * m.x + m.y * m.y);","float t = 0.0;","if (dist > border)","t = 1.0;","else if (dist > 0.0)","t = dist / border;","gl_FragColor = mix(color0, color, t);","}"].join("\n"),e.FRAGMENT_SHADER),i.utils.loadProgram(e,[t,r])}},i.utils.pkg("sigma.webgl.edges"),i.webgl.edges.def={POINTS:6,ATTRIBUTES:7,addEdge:function(e,t,r,n,s,o,a){var l=(e[o+"size"]||1)/2,d=t[o+"x"],c=t[o+"y"],h=r[o+"x"],u=r[o+"y"],g=e.color;if(!g)switch(a("edgeColor")){case"source":g=t.color||a("defaultNodeColor");break;case"target":g=r.color||a("defaultNodeColor");break;default:g=a("defaultEdgeColor")}g=i.utils.floatColor(g),n[s++]=d,n[s++]=c,n[s++]=h,n[s++]=u,n[s++]=l,n[s++]=0,n[s++]=g,n[s++]=h,n[s++]=u,n[s++]=d,n[s++]=c,n[s++]=l,n[s++]=1,n[s++]=g,n[s++]=h,n[s++]=u,n[s++]=d,n[s++]=c,n[s++]=l,n[s++]=0,n[s++]=g,n[s++]=h,n[s++]=u,n[s++]=d,n[s++]=c,n[s++]=l,n[s++]=0,n[s++]=g,n[s++]=d,n[s++]=c,n[s++]=h,n[s++]=u,n[s++]=l,n[s++]=1,n[s++]=g,n[s++]=d,n[s++]=c,n[s++]=h,n[s++]=u,n[s++]=l,n[s++]=0,n[s++]=g},render:function(e,t,r,n){var s,o=e.getAttribLocation(t,"a_color"),a=e.getAttribLocation(t,"a_position1"),l=e.getAttribLocation(t,"a_position2"),d=e.getAttribLocation(t,"a_thickness"),c=e.getAttribLocation(t,"a_minus"),h=e.getUniformLocation(t,"u_resolution"),u=e.getUniformLocation(t,"u_matrix"),g=e.getUniformLocation(t,"u_matrixHalfPi"),f=e.getUniformLocation(t,"u_matrixHalfPiMinus"),m=e.getUniformLocation(t,"u_ratio"),p=e.getUniformLocation(t,"u_scale");s=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),e.uniform2f(h,n.width,n.height),e.uniform1f(m,n.ratio/Math.pow(n.ratio,n.settings("edgesPowRatio"))),e.uniform1f(p,n.scalingRatio),e.uniformMatrix3fv(u,!1,n.matrix),e.uniformMatrix2fv(g,!1,i.utils.matrices.rotation(Math.PI/2,!0)),e.uniformMatrix2fv(f,!1,i.utils.matrices.rotation(-Math.PI/2,!0)),e.enableVertexAttribArray(o),e.enableVertexAttribArray(a),e.enableVertexAttribArray(l),e.enableVertexAttribArray(d),e.enableVertexAttribArray(c),e.vertexAttribPointer(a,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(l,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(d,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(c,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),e.vertexAttribPointer(o,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),e.drawArrays(e.TRIANGLES,n.start||0,n.count||r.length/this.ATTRIBUTES)},initProgram:function(e){var t,r;return t=i.utils.loadShader(e,["attribute vec2 a_position1;","attribute vec2 a_position2;","attribute float a_thickness;","attribute float a_minus;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 position = a_thickness * u_ratio *","normalize(a_position2 - a_position1);","mat2 matrix = a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi;","position = matrix * position + a_position1;","gl_Position = vec4(","((u_matrix * vec3(position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),r=i.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),i.utils.loadProgram(e,[t,r])}},i.utils.pkg("sigma.webgl.edges"),i.webgl.edges.fast={POINTS:2,ATTRIBUTES:3,addEdge:function(e,t,r,n,s,o,a){e[o+"size"];var l=t[o+"x"],d=t[o+"y"],c=r[o+"x"],h=r[o+"y"],u=e.color;if(!u)switch(a("edgeColor")){case"source":u=t.color||a("defaultNodeColor");break;case"target":u=r.color||a("defaultNodeColor");break;default:u=a("defaultEdgeColor")}u=i.utils.floatColor(u),n[s++]=l,n[s++]=d,n[s++]=u,n[s++]=c,n[s++]=h,n[s++]=u},render:function(e,t,i,r){var n,s=e.getAttribLocation(t,"a_color"),o=e.getAttribLocation(t,"a_position"),a=e.getUniformLocation(t,"u_resolution"),l=e.getUniformLocation(t,"u_matrix");n=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.uniform2f(a,r.width,r.height),e.uniformMatrix3fv(l,!1,r.matrix),e.enableVertexAttribArray(o),e.enableVertexAttribArray(s),e.vertexAttribPointer(o,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(s,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.lineWidth(3),e.drawArrays(e.LINES,r.start||0,r.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,r;return t=i.utils.loadShader(e,["attribute vec2 a_position;","attribute float a_color;","uniform vec2 u_resolution;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),r=i.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),i.utils.loadProgram(e,[t,r])}},i.utils.pkg("sigma.webgl.edges"),i.webgl.edges.arrow={POINTS:9,ATTRIBUTES:11,addEdge:function(e,t,r,n,s,o,a){var l=(e[o+"size"]||1)/2,d=t[o+"x"],c=t[o+"y"],h=r[o+"x"],u=r[o+"y"],g=r[o+"size"],f=e.color;if(!f)switch(a("edgeColor")){case"source":f=t.color||a("defaultNodeColor");break;case"target":f=r.color||a("defaultNodeColor");break;default:f=a("defaultEdgeColor")}f=i.utils.floatColor(f),n[s++]=d,n[s++]=c,n[s++]=h,n[s++]=u,n[s++]=l,n[s++]=g,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=f,n[s++]=h,n[s++]=u,n[s++]=d,n[s++]=c,n[s++]=l,n[s++]=g,n[s++]=1,n[s++]=1,n[s++]=0,n[s++]=0,n[s++]=f,n[s++]=h,n[s++]=u,n[s++]=d,n[s++]=c,n[s++]=l,n[s++]=g,n[s++]=1,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=f,n[s++]=h,n[s++]=u,n[s++]=d,n[s++]=c,n[s++]=l,n[s++]=g,n[s++]=1,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=f,n[s++]=d,n[s++]=c,n[s++]=h,n[s++]=u,n[s++]=l,n[s++]=g,n[s++]=0,n[s++]=1,n[s++]=0,n[s++]=0,n[s++]=f,n[s++]=d,n[s++]=c,n[s++]=h,n[s++]=u,n[s++]=l,n[s++]=g,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=f,n[s++]=h,n[s++]=u,n[s++]=d,n[s++]=c,n[s++]=l,n[s++]=g,n[s++]=1,n[s++]=0,n[s++]=1,n[s++]=-1,n[s++]=f,n[s++]=h,n[s++]=u,n[s++]=d,n[s++]=c,n[s++]=l,n[s++]=g,n[s++]=1,n[s++]=0,n[s++]=1,n[s++]=0,n[s++]=f,n[s++]=h,n[s++]=u,n[s++]=d,n[s++]=c,n[s++]=l,n[s++]=g,n[s++]=1,n[s++]=0,n[s++]=1,n[s++]=1,n[s++]=f},render:function(e,t,r,n){var s,o=e.getAttribLocation(t,"a_pos1"),a=e.getAttribLocation(t,"a_pos2"),l=e.getAttribLocation(t,"a_thickness"),d=e.getAttribLocation(t,"a_tSize"),c=e.getAttribLocation(t,"a_delay"),h=e.getAttribLocation(t,"a_minus"),u=e.getAttribLocation(t,"a_head"),g=e.getAttribLocation(t,"a_headPosition"),f=e.getAttribLocation(t,"a_color"),m=e.getUniformLocation(t,"u_resolution"),p=e.getUniformLocation(t,"u_matrix"),y=e.getUniformLocation(t,"u_matrixHalfPi"),v=e.getUniformLocation(t,"u_matrixHalfPiMinus"),x=e.getUniformLocation(t,"u_ratio"),b=e.getUniformLocation(t,"u_nodeRatio"),E=e.getUniformLocation(t,"u_arrowHead"),w=e.getUniformLocation(t,"u_scale");s=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),e.uniform2f(m,n.width,n.height),e.uniform1f(x,n.ratio/Math.pow(n.ratio,n.settings("edgesPowRatio"))),e.uniform1f(b,Math.pow(n.ratio,n.settings("nodesPowRatio"))/n.ratio),e.uniform1f(E,5),e.uniform1f(w,n.scalingRatio),e.uniformMatrix3fv(p,!1,n.matrix),e.uniformMatrix2fv(y,!1,i.utils.matrices.rotation(Math.PI/2,!0)),e.uniformMatrix2fv(v,!1,i.utils.matrices.rotation(-Math.PI/2,!0)),e.enableVertexAttribArray(o),e.enableVertexAttribArray(a),e.enableVertexAttribArray(l),e.enableVertexAttribArray(d),e.enableVertexAttribArray(c),e.enableVertexAttribArray(h),e.enableVertexAttribArray(u),e.enableVertexAttribArray(g),e.enableVertexAttribArray(f),e.vertexAttribPointer(o,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(a,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(l,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(d,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),e.vertexAttribPointer(c,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),e.vertexAttribPointer(h,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,28),e.vertexAttribPointer(u,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,32),e.vertexAttribPointer(g,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,36),e.vertexAttribPointer(f,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,40),e.drawArrays(e.TRIANGLES,n.start||0,n.count||r.length/this.ATTRIBUTES)},initProgram:function(e){var t,r;return t=i.utils.loadShader(e,["attribute vec2 a_pos1;","attribute vec2 a_pos2;","attribute float a_thickness;","attribute float a_tSize;","attribute float a_delay;","attribute float a_minus;","attribute float a_head;","attribute float a_headPosition;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_nodeRatio;","uniform float u_arrowHead;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 pos = normalize(a_pos2 - a_pos1);","mat2 matrix = (1.0 - a_head) *","(","a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi",") + a_head * (","a_headPosition * u_matrixHalfPiMinus * 0.6 +","(a_headPosition * a_headPosition - 1.0) * mat2(1.0)",");","pos = a_pos1 + (","(1.0 - a_head) * a_thickness * u_ratio * matrix * pos +","a_head * u_arrowHead * a_thickness * u_ratio * matrix * pos +","a_delay * pos * (","a_tSize / u_nodeRatio +","u_arrowHead * a_thickness * u_ratio",")",");","gl_Position = vec4(","((u_matrix * vec3(pos, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),r=i.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),i.utils.loadProgram(e,[t,r])}},function(e){if(void 0===i)throw"sigma is not declared";function t(e,t){for(var i=[],r=0;r<e.length;r+=t-1)i.push(e.substr(r,t-1)+"-");var n=i[i.length-1].length;return i[i.length-1]=i[i.length-1].substr(0,n-1)+" ",i}i.utils.pkg("sigma.canvas.labels"),i.canvas.labels.def=function(e,r,n,s){var o,a,l,d=n("prefix")||"",c=e[d+"size"]||1,h=n("fontStyle"),u=n("nodeBorderSize"),g=n("labelAlignment"),f=n("maxNodeLabelLineLength")||0;if(!(c<=n("labelThreshold"))&&e.label&&"string"==typeof e.label){var m=(h?h+" ":"")+(o="fixed"===n("labelSize")?n("defaultLabelSize"):n("labelSizeRatio")*c)+"px "+(e.active&&n("activeFont")||n("font"));switch(s&&s.ctx.font!=m?(r.font=m,s.ctx.font=m):r.font=m,r.fillStyle="node"===n("labelColor")?e.color||n("defaultNodeColor"):n("defaultLabelColor"),a=0,l=o/3,r.textAlign="center",g){case"bottom":l=+c+4*o/3;break;case"center":break;case"left":r.textAlign="right",a=-c-u-3;break;case"top":l=-c-2*o/3;break;case"inside":if(i.utils.canvas.getTextWidth(r,n("approximateLabelWidth"),o,e.label)<=2*(c+o/3))break;case"right":default:a=c+u+3,r.textAlign="left"}for(var p=function(e,i){if(i<=1)return[e];for(var r=e.split(" "),n=[],s=0,o=-1,a=[],l=!0,d=0;d<r.length;++d)if(l){if(r[d].length>i){for(var c=t(r[d],i),h=0;h<c.length;++h)n.push([c[h]]),++o;s=c[c.length-1].length}else n.push([r[d]]),++o,s=r[d].length+1;l=!1}else s+r[d].length<=i?(n[o].push(r[d]),s+=r[d].length+1):(l=!0,--d);for(d=0;d<n.length;++d)a.push(n[d].join(" "));return a}(e.label,f),y=e[d+"x"]+a,v=Math.round(e[d+"y"]+l),x=0;x<p.length;++x)r.fillText(p[x],y,v+x*(o+1))}}}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.canvas.hovers"),i.canvas.hovers.def=function(e,t,r){var n,s,o,a=r("nodeBorderSize"),l=r("labelAlignment"),d=r("hoverFontStyle")||r("fontStyle"),c=r("prefix")||"",h=e[c+"size"],u=r("maxNodeLabelLineLength")||0,g="fixed"===r("labelSize")?r("defaultLabelSize"):r("labelSizeRatio")*h;if(t.font=(d?d+" ":"")+g+"px "+(r("hoverFont")||r("font")),t.beginPath(),t.fillStyle="node"===r("labelHoverBGColor")?e.color||r("defaultNodeColor"):r("defaultHoverLabelBGColor"),r("labelHoverShadow")&&(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=8,t.shadowColor=r("labelHoverShadowColor")),function(e,t,n,s,o,l){var d=l>1&&o.length>1?.6*l*n:i.utils.canvas.getTextWidth(t,r("approximateLabelWidth"),n,o[0]),u=Math.round(s[c+"x"]),g=Math.round(s[c+"y"]),f=(n+1)*o.length+4,m=Math.round(h+n/4),p=Math.round(d+h+1.5+n/3);if(s.label&&"string"==typeof s.label)switch(e){case"center":break;case"left":u=Math.round(s[c+"x"]+n/2+2),g=Math.round(s[c+"y"]-n/2-2),t.moveTo(u,g+m),t.arcTo(u,g,u-m,g,m),t.lineTo(u-p-a-m,g),t.lineTo(u-p-a-m,g+f),t.lineTo(u-m,g+f),t.arcTo(u,g+f,u,g+f-m,m),t.lineTo(u,g+m);break;case"top":t.rect(u-p/2,g-m-f,p,f);break;case"bottom":t.rect(u-p/2,g+m,p,f);break;case"inside":if(d<=2*m)break;case"right":default:u=Math.round(s[c+"x"]-n/2-2),g=Math.round(s[c+"y"]-n/2-2),t.moveTo(u,g+m),t.arcTo(u,g,u+m,g,m),t.lineTo(u+p+a+m,g),t.lineTo(u+p+a+m,g+f),t.lineTo(u+m,g+f),t.arcTo(u,g+f,u,g+f-m,m),t.lineTo(u,g+m)}t.closePath(),t.fill(),t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}(l,t,g,e,n=function(e,t){if(t<=1)return[e];for(var i=e.split(" "),r=[],n=0,s=-1,o=[],a=!0,l=0;l<i.length;++l)if(a){if(i[l].length>t){for(var d=v(i[l],t),c=0;c<d.length;++c)r.push([d[c]]),++s;n=d[d.length-1].length}else r.push([i[l]]),++s,n=i[l].length+1;a=!1}else n+i[l].length<=t?(r[s].push(i[l]),n+=i[l].length+1):(a=!0,--l);for(l=0;l<r.length;++l)o.push(r[l].join(" "));return o}(e.label,u),u),a>0&&(t.beginPath(),t.fillStyle="node"===r("nodeBorderColor")?e.color||r("defaultNodeColor"):r("defaultNodeBorderColor"),t.arc(e[c+"x"],e[c+"y"],h+a,0,2*Math.PI,!0),t.closePath(),t.fill()),(i.canvas.nodes[e.type]||i.canvas.nodes.def)(e,t,r),e.label&&"string"==typeof e.label){t.fillStyle="node"===r("labelHoverColor")?e.color||r("defaultNodeColor"):r("defaultLabelHoverColor");var f=i.utils.canvas.getTextWidth(t,r("approximateLabelWidth"),g,e.label),m=-f/2,p=g/3;switch(l){case"bottom":p=+h+4*g/3;break;case"center":break;case"left":m=-h-a-3-f;break;case"top":p=-h-2*g/3;break;case"inside":if(f<=2*(h+g/3))break;case"right":default:m=h+a+3}s=e[c+"x"]+m,o=Math.round(e[c+"y"]+p);for(var y=0;y<n.length;++y)t.fillText(n[y],s,o+y*(g+1))}function v(e,t){for(var i=[],r=0;r<e.length;r+=t-1)i.push(e.substr(r,t-1)+"-");var n=i[i.length-1].length;return i[i.length-1]=i[i.length-1].substr(0,n-1)+" ",i}}}.call(k),i.utils.pkg("sigma.canvas.nodes"),i.canvas.nodes.def=function(e,t,i){var r=i("prefix")||"";t.fillStyle=e.color||i("defaultNodeColor"),t.beginPath(),t.arc(e[r+"x"],e[r+"y"],e[r+"size"],0,2*Math.PI,!0),t.closePath(),t.fill()},i.utils.pkg("sigma.canvas.edges"),i.canvas.edges.def=function(e,t,i,r,n){var s=e.color,o=n("prefix")||"",a=e[o+"size"]||1,l=n("edgeColor"),d=n("defaultNodeColor"),c=n("defaultEdgeColor");if(!s)switch(l){case"source":s=t.color||d;break;case"target":s=i.color||d;break;default:s=c}r.strokeStyle=s,r.lineWidth=a,r.beginPath(),r.moveTo(t[o+"x"],t[o+"y"]),r.lineTo(i[o+"x"],i[o+"y"]),r.stroke()},i.utils.pkg("sigma.canvas.edges"),i.canvas.edges.curve=function(e,t,r,n,s){var o,a=e.color,l=s("prefix")||"",d=e[l+"size"]||1,c=s("edgeColor"),h=s("defaultNodeColor"),u=s("defaultEdgeColor"),g=t[l+"size"],f=t[l+"x"],m=t[l+"y"],p=r[l+"x"],y=r[l+"y"];if(o=t.id===r.id?i.utils.getSelfLoopControlPoints(f,m,g):i.utils.getQuadraticControlPoint(f,m,p,y,e.cc),!a)switch(c){case"source":a=t.color||h;break;case"target":a=r.color||h;break;default:a=u}n.strokeStyle=a,n.lineWidth=d,n.beginPath(),n.moveTo(f,m),t.id===r.id?n.bezierCurveTo(o.x1,o.y1,o.x2,o.y2,p,y):n.quadraticCurveTo(o.x,o.y,p,y),n.stroke()},i.utils.pkg("sigma.canvas.edges"),i.canvas.edges.arrow=function(e,t,i,r,n){var s=e.color,o=n("prefix")||"",a=n("edgeColor"),l=n("defaultNodeColor"),d=n("defaultEdgeColor"),c=e[o+"size"]||1,h=i[o+"size"],u=t[o+"x"],g=t[o+"y"],f=i[o+"x"],m=i[o+"y"],p=Math.max(2.5*c,n("minArrowSize")),y=Math.sqrt((f-u)*(f-u)+(m-g)*(m-g)),v=u+(f-u)*(y-p-h)/y,x=g+(m-g)*(y-p-h)/y,b=(f-u)*p/y,E=(m-g)*p/y;if(!s)switch(a){case"source":s=t.color||l;break;case"target":s=i.color||l;break;default:s=d}r.strokeStyle=s,r.lineWidth=c,r.beginPath(),r.moveTo(u,g),r.lineTo(v,x),r.stroke(),r.fillStyle=s,r.beginPath(),r.moveTo(v+b,x+E),r.lineTo(v+.6*E,x-.6*b),r.lineTo(v-.6*E,x+.6*b),r.lineTo(v+b,x+E),r.closePath(),r.fill()},i.utils.pkg("sigma.canvas.edges"),i.canvas.edges.curvedArrow=function(e,t,r,n,s){var o,a,l,d,c,h,u=e.color,g=s("prefix")||"",f=s("edgeColor"),m=s("defaultNodeColor"),p=s("defaultEdgeColor"),y=e[g+"size"]||1,v=r[g+"size"],x=t[g+"x"],b=t[g+"y"],E=r[g+"x"],w=r[g+"y"],A=Math.max(2.5*y,s("minArrowSize"));if(o=t.id===r.id?i.utils.getSelfLoopControlPoints(x,b,v):i.utils.getQuadraticControlPoint(x,b,E,w,e.cc),t.id===r.id?(a=Math.sqrt((E-o.x1)*(E-o.x1)+(w-o.y1)*(w-o.y1)),l=o.x1+(E-o.x1)*(a-A-v)/a,d=o.y1+(w-o.y1)*(a-A-v)/a,c=(E-o.x1)*A/a,h=(w-o.y1)*A/a):(a=Math.sqrt((E-o.x)*(E-o.x)+(w-o.y)*(w-o.y)),l=o.x+(E-o.x)*(a-A-v)/a,d=o.y+(w-o.y)*(a-A-v)/a,c=(E-o.x)*A/a,h=(w-o.y)*A/a),!u)switch(f){case"source":u=t.color||m;break;case"target":u=r.color||m;break;default:u=p}n.strokeStyle=u,n.lineWidth=y,n.beginPath(),n.moveTo(x,b),t.id===r.id?n.bezierCurveTo(o.x2,o.y2,o.x1,o.y1,l,d):n.quadraticCurveTo(o.x,o.y,l,d),n.stroke(),n.fillStyle=u,n.beginPath(),n.moveTo(l+c,d+h),n.lineTo(l+.6*h,d-.6*c),n.lineTo(l-.6*h,d+.6*c),n.lineTo(l+c,d+h),n.closePath(),n.fill()},i.utils.pkg("sigma.canvas.edgehovers"),i.canvas.edgehovers.def=function(e,t,i,r,n){var s=e.color,o=n("prefix")||"",a=e[o+"size"]||1,l=n("edgeColor"),d=n("defaultNodeColor"),c=n("defaultEdgeColor");if(!s)switch(l){case"source":s=t.color||d;break;case"target":s=i.color||d;break;default:s=c}s="edge"===n("edgeHoverColor")?e.hover_color||s:e.hover_color||n("defaultEdgeHoverColor")||s,a*=n("edgeHoverSizeRatio"),r.strokeStyle=s,r.lineWidth=a,r.beginPath(),r.moveTo(t[o+"x"],t[o+"y"]),r.lineTo(i[o+"x"],i[o+"y"]),r.stroke()},i.utils.pkg("sigma.canvas.edgehovers"),i.canvas.edgehovers.curve=function(e,t,r,n,s){var o,a=e.color,l=s("prefix")||"",d=s("edgeHoverSizeRatio")*(e[l+"size"]||1),c=s("edgeColor"),h=s("defaultNodeColor"),u=s("defaultEdgeColor"),g=t[l+"size"],f=t[l+"x"],m=t[l+"y"],p=r[l+"x"],y=r[l+"y"];if(o=t.id===r.id?i.utils.getSelfLoopControlPoints(f,m,g):i.utils.getQuadraticControlPoint(f,m,p,y,e.cc),!a)switch(c){case"source":a=t.color||h;break;case"target":a=r.color||h;break;default:a=u}a="edge"===s("edgeHoverColor")?e.hover_color||a:e.hover_color||s("defaultEdgeHoverColor")||a,n.strokeStyle=a,n.lineWidth=d,n.beginPath(),n.moveTo(f,m),t.id===r.id?n.bezierCurveTo(o.x1,o.y1,o.x2,o.y2,p,y):n.quadraticCurveTo(o.x,o.y,p,y),n.stroke()},i.utils.pkg("sigma.canvas.edgehovers"),i.canvas.edgehovers.arrow=function(e,t,i,r,n){var s=e.color,o=n("prefix")||"",a=n("edgeColor"),l=n("defaultNodeColor"),d=n("defaultEdgeColor"),c=e[o+"size"]||1,h=i[o+"size"],u=t[o+"x"],g=t[o+"y"],f=i[o+"x"],m=i[o+"y"];c=e.hover?n("edgeHoverSizeRatio")*c:c;var p=Math.max(2.5*c,n("minArrowSize")),y=Math.sqrt((f-u)*(f-u)+(m-g)*(m-g)),v=u+(f-u)*(y-p-h)/y,x=g+(m-g)*(y-p-h)/y,b=(f-u)*p/y,E=(m-g)*p/y;if(!s)switch(a){case"source":s=t.color||l;break;case"target":s=i.color||l;break;default:s=d}s="edge"===n("edgeHoverColor")?e.hover_color||s:e.hover_color||n("defaultEdgeHoverColor")||s,r.strokeStyle=s,r.lineWidth=c,r.beginPath(),r.moveTo(u,g),r.lineTo(v,x),r.stroke(),r.fillStyle=s,r.beginPath(),r.moveTo(v+b,x+E),r.lineTo(v+.6*E,x-.6*b),r.lineTo(v-.6*E,x+.6*b),r.lineTo(v+b,x+E),r.closePath(),r.fill()},i.utils.pkg("sigma.canvas.edgehovers"),i.canvas.edgehovers.curvedArrow=function(e,t,r,n,s){var o,a,l,d,c,h,u,g=e.color,f=s("prefix")||"",m=s("edgeColor"),p=s("defaultNodeColor"),y=s("defaultEdgeColor"),v=s("edgeHoverSizeRatio")*(e[f+"size"]||1),x=r[f+"size"],b=t[f+"x"],E=t[f+"y"],w=r[f+"x"],A=r[f+"y"];if(o=t.id===r.id?i.utils.getSelfLoopControlPoints(b,E,x):i.utils.getQuadraticControlPoint(b,E,w,A,e.cc),t.id===r.id?(a=Math.sqrt((w-o.x1)*(w-o.x1)+(A-o.y1)*(A-o.y1)),l=Math.max(2.5*v,s("minArrowSize")),d=o.x1+(w-o.x1)*(a-l-x)/a,c=o.y1+(A-o.y1)*(a-l-x)/a,h=(w-o.x1)*l/a,u=(A-o.y1)*l/a):(a=Math.sqrt((w-o.x)*(w-o.x)+(A-o.y)*(A-o.y)),l=2.5*v,d=o.x+(w-o.x)*(a-l-x)/a,c=o.y+(A-o.y)*(a-l-x)/a,h=(w-o.x)*l/a,u=(A-o.y)*l/a),!g)switch(m){case"source":g=t.color||p;break;case"target":g=r.color||p;break;default:g=y}g="edge"===s("edgeHoverColor")?e.hover_color||g:e.hover_color||s("defaultEdgeHoverColor")||g,n.strokeStyle=g,n.lineWidth=v,n.beginPath(),n.moveTo(b,E),t.id===r.id?n.bezierCurveTo(o.x2,o.y2,o.x1,o.y1,d,c):n.quadraticCurveTo(o.x,o.y,d,c),n.stroke(),n.fillStyle=g,n.beginPath(),n.moveTo(d+h,c+u),n.lineTo(d+.6*u,c-.6*h),n.lineTo(d-.6*u,c+.6*h),n.lineTo(d+h,c+u),n.closePath(),n.fill()},function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.canvas.extremities"),i.canvas.extremities.def=function(e,t,r,n,s){(i.canvas.hovers[t.type]||i.canvas.hovers.def)(t,n,s),(i.canvas.hovers[r.type]||i.canvas.hovers.def)(r,n,s)}}.call(k),i.utils.pkg("sigma.svg.utils"),i.svg.utils={show:function(e){return e.style.display="",this},hide:function(e){return e.style.display="none",this}},i.utils.pkg("sigma.svg.nodes"),i.svg.nodes.def={create:function(e,t){t("prefix");var i=document.createElementNS(t("xmlns"),"circle");return i.setAttributeNS(null,"data-node-id",e.id),i.setAttributeNS(null,"class",t("classPrefix")+"-node"),i.setAttributeNS(null,"fill",e.color||t("defaultNodeColor")),i},update:function(e,t,i){var r=i("prefix")||"";return t.setAttributeNS(null,"cx",e[r+"x"]),t.setAttributeNS(null,"cy",e[r+"y"]),t.setAttributeNS(null,"r",e[r+"size"]),i("freeStyle")||t.setAttributeNS(null,"fill",e.color||i("defaultNodeColor")),t.style.display="",this}},i.utils.pkg("sigma.svg.edges"),i.svg.edges.def={create:function(e,t,i,r){var n=e.color,s=(r("prefix"),r("edgeColor")),o=r("defaultNodeColor"),a=r("defaultEdgeColor");if(!n)switch(s){case"source":n=t.color||o;break;case"target":n=i.color||o;break;default:n=a}var l=document.createElementNS(r("xmlns"),"line");return l.setAttributeNS(null,"data-edge-id",e.id),l.setAttributeNS(null,"class",r("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",n),l},update:function(e,t,i,r,n){var s=n("prefix")||"";return t.setAttributeNS(null,"stroke-width",e[s+"size"]||1),t.setAttributeNS(null,"x1",i[s+"x"]),t.setAttributeNS(null,"y1",i[s+"y"]),t.setAttributeNS(null,"x2",r[s+"x"]),t.setAttributeNS(null,"y2",r[s+"y"]),t.style.display="",this}},i.utils.pkg("sigma.svg.edges"),i.svg.edges.curve={create:function(e,t,i,r){var n=e.color,s=(r("prefix"),r("edgeColor")),o=r("defaultNodeColor"),a=r("defaultEdgeColor");if(!n)switch(s){case"source":n=t.color||o;break;case"target":n=i.color||o;break;default:n=a}var l=document.createElementNS(r("xmlns"),"path");return l.setAttributeNS(null,"data-edge-id",e.id),l.setAttributeNS(null,"class",r("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",n),l},update:function(e,t,r,n,s){var o,a,l=s("prefix")||"",d=r[l+"size"],c=r[l+"x"],h=r[l+"y"],u=n[l+"x"],g=n[l+"y"];return t.setAttributeNS(null,"stroke-width",e[l+"size"]||1),a=r.id===n.id?"M"+c+","+h+" C"+(o=i.utils.getSelfLoopControlPoints(c,h,d)).x1+","+o.y1+" "+o.x2+","+o.y2+" "+u+","+g:"M"+c+","+h+" Q"+(o=i.utils.getQuadraticControlPoint(c,h,u,g,e.cc)).x+","+o.y+" "+u+","+g,t.setAttributeNS(null,"d",a),t.setAttributeNS(null,"fill","none"),t.style.display="",this}},i.utils.pkg("sigma.svg.edges"),i.svg.edges.curvedArrow={create:function(e,t,i,r){var n=e.color,s=(r("prefix"),r("edgeColor")),o=r("defaultNodeColor"),a=r("defaultEdgeColor");if(!n)switch(s){case"source":n=t.color||o;break;case"target":n=i.color||o;break;default:n=a}var l=document.createElementNS(r("xmlns"),"path");return l.setAttributeNS(null,"data-edge-id",e.id),l.setAttributeNS(null,"class",r("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",n),l},update:function(e,t,r,n,s){var o,a,l=s("prefix")||"",d=r[l+"size"],c=r[l+"x"],h=r[l+"y"],u=n[l+"x"],g=n[l+"y"];return t.setAttributeNS(null,"stroke-width",e[l+"size"]||1),a=r.id===n.id?"M"+c+","+h+" C"+(o=i.utils.getSelfLoopControlPoints(c,h,d)).x1+","+o.y1+" "+o.x2+","+o.y2+" "+u+","+g:"M"+c+","+h+" Q"+(o=i.utils.getQuadraticControlPoint(c,h,u,g,e.cc)).x+","+o.y+" "+u+","+g,t.setAttributeNS(null,"d",a),t.setAttributeNS(null,"fill","none"),t.style.display="",this}},function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.svg.labels"),i.svg.labels.def={create:function(e,t){var i=e[(t("prefix")||"")+"size"],r=document.createElementNS(t("xmlns"),"text"),n="fixed"===t("labelSize")?t("defaultLabelSize"):t("labelSizeRatio")*i,s="node"===t("labelColor")?e.color||t("defaultNodeColor"):t("defaultLabelColor");return r.setAttributeNS(null,"data-label-target",e.id),r.setAttributeNS(null,"class",t("classPrefix")+"-label"),r.setAttributeNS(null,"font-size",n),r.setAttributeNS(null,"font-family",t("font")),r.setAttributeNS(null,"fill",s),r.innerHTML=e.label,r.textContent=e.label,r},update:function(e,t,i){var r=i("prefix")||"",n=e[r+"size"],s="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*n;if((i("forceLabels")||!(n<i("labelThreshold")))&&"string"==typeof e.label)return t.setAttributeNS(null,"x",Math.round(e[r+"x"]+n+3)),t.setAttributeNS(null,"y",Math.round(e[r+"y"]+s/3)),t.style.display="",this}}}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.svg.hovers"),i.svg.hovers.def={create:function(e,t,i,r){r("hoverFontStyle")||r("fontStyle");var n,s,o,a=r("prefix")||"",l=e[a+"size"],d="fixed"===r("labelSize")?r("defaultLabelSize"):r("labelSizeRatio")*l,c="node"===r("labelHoverColor")?e.color||r("defaultNodeColor"):r("defaultLabelHoverColor"),h=document.createElementNS(r("xmlns"),"g"),u=document.createElementNS(r("xmlns"),"rect"),g=document.createElementNS(r("xmlns"),"circle"),f=document.createElementNS(r("xmlns"),"text");return h.setAttributeNS(null,"class",r("classPrefix")+"-hover"),h.setAttributeNS(null,"data-node-id",e.id),"string"==typeof e.label&&(f.innerHTML=e.label,f.textContent=e.label,f.setAttributeNS(null,"class",r("classPrefix")+"-hover-label"),f.setAttributeNS(null,"font-size",d),f.setAttributeNS(null,"font-family",r("font")),f.setAttributeNS(null,"fill",c),f.setAttributeNS(null,"x",Math.round(e[a+"x"]+l+3)),f.setAttributeNS(null,"y",Math.round(e[a+"y"]+d/3)),Math.round(e[a+"x"]-d/2-2),Math.round(e[a+"y"]-d/2-2),n=Math.round(i.measureText(e.label).width+d/2+l+9),s=Math.round(d+4),o=Math.round(d/2+2),g.setAttributeNS(null,"class",r("classPrefix")+"-hover-area"),g.setAttributeNS(null,"fill","#fff"),g.setAttributeNS(null,"cx",e[a+"x"]),g.setAttributeNS(null,"cy",e[a+"y"]),g.setAttributeNS(null,"r",o),u.setAttributeNS(null,"class",r("classPrefix")+"-hover-area"),u.setAttributeNS(null,"fill","#fff"),u.setAttributeNS(null,"x",e[a+"x"]+o/4),u.setAttributeNS(null,"y",e[a+"y"]-o),u.setAttributeNS(null,"width",n),u.setAttributeNS(null,"height",s)),h.appendChild(g),h.appendChild(u),h.appendChild(f),h.appendChild(t),h}}}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.middlewares"),i.utils.pkg("sigma.utils"),i.middlewares.rescale=function(e,t,r){var n,s,o,a,l,d,c,h,u=this.graph.nodes(),g=this.graph.edges(),f=this.settings.embedObjects(r||{}),m=f("bounds")||i.utils.getBoundaries(this.graph,e,!0),p=m.minX,y=m.minY,v=m.maxX,x=m.maxY,b=m.sizeMax,E=m.weightMax,w=f("width")||1,A=f("height")||1,T=f("autoRescale"),S={nodePosition:1,nodeSize:1,edgeSize:1};for(T instanceof Array||(T=["nodePosition","nodeSize","edgeSize"]),n=0,s=T.length;n<s;n++)if(!S[T[n]])throw new Error('The rescale setting "'+T[n]+'" is not recognized.');var C=~T.indexOf("nodePosition"),_=~T.indexOf("nodeSize"),P=~T.indexOf("edgeSize");for(C&&(c="outside"===f("scalingMode")?Math.max(w/Math.max(v-p,1),A/Math.max(x-y,1)):Math.min(w/Math.max(v-p,1),A/Math.max(x-y,1)),v+=h=(f("rescaleIgnoreSize")?0:(f("maxNodeSize")||b)/c)+(f("sideMargin")||0),p-=h,x+=h,y-=h,c="outside"===f("scalingMode")?Math.max(w/Math.max(v-p,1),A/Math.max(x-y,1)):Math.min(w/Math.max(v-p,1),A/Math.max(x-y,1))),f("maxNodeSize")||f("minNodeSize")?f("maxNodeSize")===f("minNodeSize")?(o=0,a=+f("maxNodeSize")):(o=(f("maxNodeSize")-f("minNodeSize"))/b,a=+f("minNodeSize")):(o=1,a=0),f("maxEdgeSize")||f("minEdgeSize")?f("maxEdgeSize")===f("minEdgeSize")?(l=0,d=+f("minEdgeSize")):(l=(f("maxEdgeSize")-f("minEdgeSize"))/E,d=+f("minEdgeSize")):(l=1,d=0),n=0,s=g.length;n<s;n++)g[n][t+"size"]=g[n][e+"size"]*(P?l:1)+(P?d:0);for(n=0,s=u.length;n<s;n++)u[n][t+"size"]=u[n][e+"size"]*(_?o:1)+(_?a:0),C?(u[n][t+"x"]=(u[n][e+"x"]-(v+p)/2)*c,u[n][t+"y"]=(u[n][e+"y"]-(x+y)/2)*c):(u[n][t+"x"]=u[n][e+"x"],u[n][t+"y"]=u[n][e+"y"])},i.utils.getBoundaries=function(e,t,i){var r,n,s=e.edges(),o=e.nodes(),a=-1/0,l=-1/0,d=1/0,c=1/0,h=-1/0,u=-1/0;if(i)for(r=0,n=s.length;r<n;r++)a=Math.max(s[r][t+"size"],a);for(r=0,n=o.length;r<n;r++)l=Math.max(o[r][t+"size"],l),h=Math.max(o[r][t+"x"],h),d=Math.min(o[r][t+"x"],d),u=Math.max(o[r][t+"y"],u),c=Math.min(o[r][t+"y"],c);return{weightMax:a=a||1,sizeMax:l=l||1,minX:d,minY:c,maxX:h,maxY:u}}}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.middlewares"),i.middlewares.copy=function(e,t){var i,r,n;if(t+""!=e+""){for(i=0,r=(n=this.graph.nodes()).length;i<r;i++)n[i][t+"x"]=n[i][e+"x"],n[i][t+"y"]=n[i][e+"y"],n[i][t+"size"]=n[i][e+"size"];for(i=0,r=(n=this.graph.edges()).length;i<r;i++)n[i][t+"size"]=n[i][e+"size"]}}}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.misc.animation.running");var t,r=(t=0,function(){return""+ ++t});i.misc.animation.camera=function(t,n,s){if(!(t instanceof i.classes.camera&&"object"==typeof n&&n))throw"animation.camera: Wrong arguments.";if("number"!=typeof n.x&&"number"!=typeof n.y&&"number"!=typeof n.ratio&&"number"!=typeof n.angle)throw"There must be at least one valid coordinate in the given val.";var o,a,l,d,c,h=s||{},u=i.utils.dateNow();return c={x:t.x,y:t.y,ratio:t.ratio,angle:t.angle},h.duration,d="function"!=typeof h.easing?i.utils.easings[h.easing||"quadraticInOut"]:h.easing,o=function(){var r,s=h.duration?(i.utils.dateNow()-u)/h.duration:1;s>=1?(t.isAnimated=!1,t.goTo({x:n.x!==e?n.x:c.x,y:n.y!==e?n.y:c.y,ratio:n.ratio!==e?n.ratio:c.ratio,angle:n.angle!==e?n.angle:c.angle}),cancelAnimationFrame(a),delete i.misc.animation.running[a],"function"==typeof h.onComplete&&h.onComplete()):(r=d(s),t.isAnimated=!0,t.goTo({x:n.x!==e?c.x+(n.x-c.x)*r:c.x,y:n.y!==e?c.y+(n.y-c.y)*r:c.y,ratio:n.ratio!==e?c.ratio+(n.ratio-c.ratio)*r:c.ratio,angle:n.angle!==e?c.angle+(n.angle-c.angle)*r:c.angle}),"function"==typeof h.onNewFrame&&h.onNewFrame(),l.frameId=requestAnimationFrame(o))},a=r(),l={frameId:requestAnimationFrame(o),target:t,type:"camera",options:h,fn:o},i.misc.animation.running[a]=l,a},i.misc.animation.kill=function(e){if(1!==arguments.length||"number"!=typeof e)throw"animation.kill: Wrong arguments.";var t=i.misc.animation.running[e];return t&&(cancelAnimationFrame(e),delete i.misc.animation.running[t.frameId],"camera"===t.type&&(t.target.isAnimated=!1),"function"==typeof(t.options||{}).onComplete&&t.options.onComplete()),this},i.misc.animation.killAll=function(e){var t,r,n=0,s="string"==typeof e?e:null,o="object"==typeof e?e:null,a=i.misc.animation.running;for(r in a)s&&a[r].type!==s||o&&a[r].target!==o||(t=i.misc.animation.running[r],cancelAnimationFrame(t.frameId),delete i.misc.animation.running[r],"camera"===t.type&&(t.target.isAnimated=!1),n++,"function"==typeof(t.options||{}).onComplete&&t.options.onComplete());return n},i.misc.animation.has=function(e){var t,r="string"==typeof e?e:null,n="object"==typeof e?e:null,s=i.misc.animation.running;for(t in s)if(!(r&&s[t].type!==r||n&&s[t].target!==n))return!0;return!1}}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.misc"),i.misc.bindEvents=function(t){var r,n,s,o,a=this;function l(e){e&&(s="x"in e.data?e.data.x:s,o="y"in e.data?e.data.y:o);var i,r,n,l,d,c,h,u,g=[],f=s+a.width/2,m=o+a.height/2,p=a.camera.cameraPosition(s,o),y=a.camera.quadtree.point(p.x,p.y);if(y.length)for(i=0,n=y.length;i<n;i++)if(d=(l=y[i])[t+"x"],c=l[t+"y"],h=l[t+"size"],!l.hidden&&f>d-h&&f<d+h&&m>c-h&&m<c+h&&Math.sqrt((f-d)*(f-d)+(m-c)*(m-c))<h){for(u=!1,r=0;r<g.length;r++)if(l.size>g[r].size){g.splice(r,0,l),u=!0;break}u||g.push(l)}return g}function d(r){if(!a.settings("enableEdgeHovering"))return[];var n=i.renderers.canvas&&a instanceof i.renderers.canvas;if(!n)throw new Error("The edge events feature is not compatible with the WebGL renderer");r&&(s="x"in r.data?r.data.x:s,o="y"in r.data?r.data.y:o);var l,d,c,h,u,g,f,m,p,y,v=a.settings("edgeHoverPrecision"),x={},b=[],E=s+a.width/2,w=o+a.height/2,A=a.camera.cameraPosition(s,o),T=[];if(n)for(l=0,c=(h=a.camera.quadtree.area(a.camera.getRectangle(a.width,a.height))).length;l<c;l++)x[h[l].id]=h[l];function S(e,t){for(y=!1,d=0;d<e.length;d++)if(t.size>e[d].size){e.splice(d,0,t),y=!0;break}y||e.push(t)}if(a.camera.edgequadtree!==e&&(T=a.camera.edgequadtree.point(A.x,A.y)),T.length)for(l=0,c=T.length;l<c;l++)u=T[l],f=a.graph.nodes(u.source),m=a.graph.nodes(u.target),g=u[t+"size"]||u["read_"+t+"size"],!u.hidden&&!f.hidden&&!m.hidden&&(!n||x[u.source]||x[u.target])&&i.utils.getDistance(f[t+"x"],f[t+"y"],E,w)>f[t+"size"]&&i.utils.getDistance(m[t+"x"],m[t+"y"],E,w)>m[t+"size"]&&("curve"==u.type||"curvedArrow"==u.type?f.id===m.id?(p=i.utils.getSelfLoopControlPoints(f[t+"x"],f[t+"y"],f[t+"size"]),i.utils.isPointOnBezierCurve(E,w,f[t+"x"],f[t+"y"],m[t+"x"],m[t+"y"],p.x1,p.y1,p.x2,p.y2,Math.max(g,v))&&S(b,u)):(p=i.utils.getQuadraticControlPoint(f[t+"x"],f[t+"y"],m[t+"x"],m[t+"y"],u.cc),i.utils.isPointOnQuadraticCurve(E,w,f[t+"x"],f[t+"y"],m[t+"x"],m[t+"y"],p.x,p.y,Math.max(g,v))&&S(b,u)):i.utils.isPointOnSegment(E,w,f[t+"x"],f[t+"y"],m[t+"x"],m[t+"y"],Math.max(g,v))&&S(b,u));return b}function c(e){var t,i,r={},n={};function s(e){if(a.settings("eventsEnabled")){t=l(e),i=d(e);var s,o,c,h,u=[],g=[],f={},m=[],p=[],y={};for(s=0;s<t.length;s++)f[(c=t[s]).id]=c,r[c.id]||(g.push(c),r[c.id]=c);for(o in r)f[o]||(u.push(r[o]),delete r[o]);for(s=0;s<i.length;s++)y[(h=i[s]).id]=h,n[h.id]||(p.push(h),n[h.id]=h);for(o in n)y[o]||(m.push(n[o]),delete n[o]);(m.length||p.length||u.length||g.length)&&a.dispatchEvent("hovers",{current:{nodes:t,edges:i},enter:{nodes:g,edges:p},leave:{nodes:u,edges:m},captor:e.data})}}e.bind("click",(function(e){a.settings("eventsEnabled")&&(a.dispatchEvent("click",e.data),t=l(e),i=d(e),t.length?(a.dispatchEvent("clickNode",{node:t[0],captor:e.data}),a.dispatchEvent("clickNodes",{node:t,captor:e.data})):i.length?(a.dispatchEvent("clickEdge",{edge:i[0],captor:e.data}),a.dispatchEvent("clickEdges",{edge:i,captor:e.data})):a.dispatchEvent("clickStage",{captor:e.data}))})),e.bind("mousedown",s),e.bind("mouseup",s),e.bind("mousemove",s),e.bind("mouseout",(function(e){if(a.settings("eventsEnabled")){var t,i={current:{nodes:[],edges:[]},enter:{nodes:[],edges:[]},leave:{nodes:[],edges:[]},captor:e.data},s=i.leave;for(t in r)s.nodes.push(r[t]);for(t in n)s.edges.push(n[t]);r={},n={},(s.nodes.length||s.edges.length)&&a.dispatchEvent("hovers",i)}})),e.bind("doubleclick",(function(e){a.settings("eventsEnabled")&&(a.dispatchEvent("doubleClick",e.data),t=l(e),i=d(e),t.length?(a.dispatchEvent("doubleClickNode",{node:t[0],captor:e.data}),a.dispatchEvent("doubleClickNodes",{node:t,captor:e.data})):i.length?(a.dispatchEvent("doubleClickEdge",{edge:i[0],captor:e.data}),a.dispatchEvent("doubleClickEdges",{edge:i,captor:e.data})):a.dispatchEvent("doubleClickStage",{captor:e.data}))})),e.bind("rightclick",(function(e){a.settings("eventsEnabled")&&(a.dispatchEvent("rightClick",e.data),t=l(e),i=d(e),t.length?(a.dispatchEvent("rightClickNode",{node:t[0],captor:e.data}),a.dispatchEvent("rightClickNodes",{node:t,captor:e.data})):i.length?(a.dispatchEvent("rightClickEdge",{edge:i[0],captor:e.data}),a.dispatchEvent("rightClickEdges",{edge:i,captor:e.data})):a.dispatchEvent("rightClickStage",{captor:e.data}))}))}for(r=0,n=this.captors.length;r<n;r++)c(this.captors[r])}}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.misc"),i.misc.bindDOMEvents=function(e){var t=this,r=this.graph,n={nodes:[],edges:[]};function s(e){this.attr=function(t){return e.getAttributeNS(null,t)},this.tag=e.tagName,this.class=this.attr("class"),this.id=this.attr("id"),this.isNode=function(){return!!~this.class.indexOf(t.settings("classPrefix")+"-node")},this.isEdge=function(){return!!~this.class.indexOf(t.settings("classPrefix")+"-edge")},this.isHover=function(){return!!~this.class.indexOf(t.settings("classPrefix")+"-hover")}}function o(e){if(t.settings("eventsEnabled")){t.dispatchEvent("click",i.utils.mouseCoords(e));var n=new s(e.target);n.isNode()?t.dispatchEvent("clickNode",{node:r.nodes(n.attr("data-node-id"))}):t.dispatchEvent("clickStage"),e.preventDefault(),e.stopPropagation()}}function a(e){if(t.settings("eventsEnabled")){t.dispatchEvent("doubleClick",i.utils.mouseCoords(e));var n=new s(e.target);n.isNode()?t.dispatchEvent("doubleClickNode",{node:r.nodes(n.attr("data-node-id"))}):t.dispatchEvent("doubleClickStage"),e.preventDefault(),e.stopPropagation()}}e.addEventListener("click",o,!1),i.utils.doubleClick(e,"click",a),e.addEventListener("touchstart",o,!1),i.utils.doubleClick(e,"touchstart",a),e.addEventListener("mouseover",(function(e){var o=e.toElement||e.target;if(t.settings("eventsEnabled")&&o){var a,l=new s(o),d={leave:{nodes:[],edges:[]},enter:{nodes:[],edges:[]},captor:i.utils.mouseCoords(e)};l.isNode()?(a=r.nodes(l.attr("data-node-id")),d.enter.nodes=[a],n.nodes.push(a)):l.isEdge()&&(a=r.edges(l.attr("data-edge-id")),d.enter.edges=[a],n.edges.push(a)),d.current=n,t.dispatchEvent("hovers",d)}}),!0),e.addEventListener("mouseout",(function(e){var o=e.fromElement||e.originalTarget;if(t.settings("eventsEnabled")){var a,l=new s(o),d={leave:{nodes:[],edges:[]},enter:{nodes:[],edges:[]},captor:i.utils.mouseCoords(e)};if(l.isNode())a=r.nodes(l.attr("data-node-id")),d.leave.nodes=[a],n.nodes.push(a);else{if(!l.isEdge())return;a=r.edges(l.attr("data-edge-id")),d.leave.edges=[a],n.edges.push(a)}d.current=n,t.dispatchEvent("hovers",d)}}),!0)}}.call(k),function(e){if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.misc"),i.misc.drawHovers=function(t){var r=this,n={nodes:[],edges:[]};function s(){var s=r.contexts.hover.canvas,o=r.settings.embedObjects({prefix:t}),a=o("singleHover")?1:e,l={elements:n.nodes,renderers:i.canvas.hovers,type:"nodes",ctx:r.contexts.hover,end:a,graph:r.graph,settings:o};r.contexts.hover.clearRect(0,0,s.width,s.height),n.nodes.length>0&&o("enableHovering")&&i.renderers.canvas.applyRenderers(l),n.edges.length>0&&o("enableEdgeHovering")&&(l.renderers=i.canvas.edgehovers,l.elements=n.edges,l.type="edges",i.renderers.canvas.applyRenderers(l),o("edgeHoverExtremities")?(l.renderers=i.canvas.extremities,i.renderers.canvas.applyRenderers(l)):(l.ctx=r.contexts.nodes,l.type="nodes",l.renderers=i.canvas.nodes,l.elements=n.nodes,i.renderers.canvas.applyRenderers(l)))}this.bind("hovers",(function(e){n=e.data.current,s()})),this.bind("render",(function(e){s()}))}}.call(k)}));z.conrad,z.sigma,z.dispatcher,z.configurable,z.graph,z.quad,M((function(e,t){(function(i){function r(e){function t(e){var t=[];return r.els.model[e]&&s.nodeListEach(r.els.model[e],(function(e){var i={id:e.getAttribute("id")||e.getAttribute("for"),type:e.getAttribute("type")||"string",title:e.getAttribute("title")||""},r=s.nodeListToArray(e.childNodes);r.length>0&&(i.defaultValue=r[0].textContent),t.push(i)})),t.length>0&&t}function i(e,t){var i={},r=t.getElementsByTagName("attvalue"),n=s.nodeListToHash(r,(function(e){var t=s.namedNodeMapToObject(e.attributes);return{key:t.id||t.for,value:t.value}}));return e.map((function(e){i[e.id]=!(e.id in n)&&"defaultValue"in e?s.enforceType(e.type,e.defaultValue):s.enforceType(e.type,n[e.id])})),i}var r={};r.els={root:e.getElementsByTagName("gexf")[0],graph:e.getElementsByTagName("graph")[0],meta:e.getElementsByTagName("meta")[0],nodes:e.getElementsByTagName("node"),edges:e.getElementsByTagName("edge"),model:s.getModelTags(e)},r.hasViz=!!s.getAttributeNS(r.els.root,"xmlns","viz"),r.version=r.els.root.getAttribute("version")||"1.0",r.mode=r.els.graph.getAttribute("mode")||"static";var n=r.els.graph.getAttribute("defaultedgetype");r.defaultEdgetype=n||"undirected";var o=t("node"),a=t("edge"),l={version:r.version,mode:r.mode,defaultEdgeType:r.defaultEdgetype,meta:function(){var e={};return r.els.meta?(e.lastmodifieddate=r.els.meta.getAttribute("lastmodifieddate"),s.nodeListEach(r.els.meta.childNodes,(function(t){e[t.tagName.toLowerCase()]=t.textContent})),e):e}(),model:{},nodes:function(e){var t=[];return s.nodeListEach(r.els.nodes,(function(n){var o={id:n.getAttribute("id"),label:n.getAttribute("label")||""};e&&(o.attributes=i(e,n)),r.hasViz&&(o.viz=function(e){var t={},i=s.getFirstElementByTagNS(e,"viz","color");if(i){var r=["r","g","b","a"].map((function(e){return i.getAttribute(e)}));t.color=s.getRGB(r)}var n=s.getFirstElementByTagNS(e,"viz","position");n&&(t.position={},["x","y","z"].map((function(e){t.position[e]=+n.getAttribute(e)})));var o=s.getFirstElementByTagNS(e,"viz","size");o&&(t.size=+o.getAttribute("value"));var a=s.getFirstElementByTagNS(e,"viz","shape");return a&&(t.shape=a.getAttribute("value")),t}(n)),t.push(function(e){var t={id:e.id,label:e.label};return e.viz&&(t.viz=e.viz),e.attributes&&(t.attributes=e.attributes),t}(o))})),t}(o),edges:function(e,t){var n=[];return s.nodeListEach(r.els.edges,(function(o){var a=s.namedNodeMapToObject(o.attributes);"type"in a||(a.type=t),e&&(a.attributes=i(e,o)),r.hasViz&&(a.viz=function(e){var t={},i=s.getFirstElementByTagNS(e,"viz","color");if(i){var r=["r","g","b","a"].map((function(e){return i.getAttribute(e)}));t.color=s.getRGB(r)}var n=s.getFirstElementByTagNS(e,"viz","shape");n&&(t.shape=n.getAttribute("value"));var o=s.getFirstElementByTagNS(e,"viz","thickness");return o&&(t.thickness=+o.getAttribute("value")),t}(o)),n.push(function(e){var t={id:e.id,type:e.type||"undirected",label:e.label||"",source:e.source,target:e.target,weight:+e.weight||1};return e.viz&&(t.viz=e.viz),e.attributes&&(t.attributes=e.attributes),t}(a))})),n}(a,r.defaultEdgetype)};return o&&(l.model.node=o),a&&(l.model.edge=a),l}function n(e,t){var i=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;var e,t;if(window.ActiveXObject)for(t in e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"])try{return new ActiveXObject(e[t])}catch(e){}return null}();if(!i)throw"XMLHttpRequest not supported, cannot load the file.";var r,n="function"==typeof t;return i.overrideMimeType?(i.overrideMimeType("text/xml"),r=function(e){return e.responseXML}):r=function(e){return(new DOMParser).parseFromString(e.responseText,"application/xml")},i.open("GET",e,n),n&&(i.onreadystatechange=function(){4===i.readyState&&t(r(i))}),i.send(),n?i:r(i)}var s={getModelTags:function(e){var t,i=e.getElementsByTagName("attributes"),r={},n=i.length;for(t=0;t<n;t++)r[i[t].getAttribute("class")]=i[t].childNodes;return r},nodeListToArray:function(e){for(var t=[],i=0,r=e.length;i<r;++i)"#text"!==e[i].nodeName&&t.push(e[i]);return t},nodeListEach:function(e,t){for(var i=0,r=e.length;i<r;++i)"#text"!==e[i].nodeName&&t(e[i])},nodeListToHash:function(e,t){for(var i={},r=0;r<e.length;r++)if("#text"!==e[r].nodeName){var n=t(e[r]);i[n.key]=n.value}return i},namedNodeMapToObject:function(e){for(var t={},i=0;i<e.length;i++)t[e[i].name]=e[i].value;return t},getFirstElementByTagNS:function(e,t,i){var r=e.getElementsByTagName(t+":"+i)[0];return r||(r=e.getElementsByTagNameNS(t,i)[0]),r||(r=e.getElementsByTagName(i)[0]),r},getAttributeNS:function(e,t,r){var n=e.getAttribute(t+":"+r);return n===i&&(n=e.getAttributeNS(t,r)),n===i&&(n=e.getAttribute(r)),n},enforceType:function(e,t){switch(e){case"boolean":t="true"===t;break;case"integer":case"long":case"float":case"double":t=+t;break;case"liststring":t=t?t.split("|"):[]}return t},getRGB:function(e){return e[3]?"rgba("+e.join(",")+")":"rgb("+e.slice(0,-1).join(",")+")"}};if(void 0!==this.gexf)throw'gexf: error - a variable called "gexf" already exists in the global scope';this.gexf={parse:function(e){return r(e)},fetch:function(e,t){return"function"==typeof t?n(e,(function(e){t(r(e))})):r(n(e))},version:"0.1.1"},this.exports!==t&&(e.exports=this.gexf)}).call(k),function(e){function t(){return"e"+i++}if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.parsers");var i=0;sigma.parsers.gexf=function(e,i,r){function n(e){for(a=e.nodes,s=0,o=a.length;s<o;s++)(l=a[s]).id=l.id,l.viz&&"object"==typeof l.viz&&(l.viz.position&&"object"==typeof l.viz.position&&(l.x=l.viz.position.x,l.y=-l.viz.position.y),l.size=l.viz.size,l.color=l.viz.color),l.attributes&&(l.attributes.latitude&&(l.lat=l.attributes.latitude),l.attributes.longitude&&(l.lng=l.attributes.longitude));for(a=e.edges,s=0,o=a.length;s<o;s++)(l=a[s]).id="string"==typeof l.id?l.id:t(),l.source=""+l.source,l.target=""+l.target,l.viz&&"object"==typeof l.viz&&(l.color=l.viz.color,l.size=l.viz.thickness),l.size=l.weight,l.direction=l.type,delete l.type;if(i instanceof sigma){for(i.graph.clear(),a=e.nodes,s=0,o=a.length;s<o;s++)i.graph.addNode(a[s]);for(a=e.edges,s=0,o=a.length;s<o;s++)i.graph.addEdge(a[s])}else"object"==typeof i?(i.graph=e,i=new sigma(i)):"function"==typeof i&&(r=i,i=null);return r?void r(i||e):e}var s,o,a,l;if("string"==typeof e)gexf.fetch(e,n);else if("object"==typeof e)return n(gexf.parse(e))}}.call(k)}));function L(t){let i;return{c(){var e,t,r;i=l("div"),e=i,t="class",null==(r="sigmaElement svelte-5k8q8")?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)},m(e,r){o(e,i,r),t[1](i)},p:e,i:e,o:e,d(e){e&&a(i),t[1](null)}}}function R(e,t,i){let r;return z.classes.graph.addMethod("neighbors",(function(e){var t,i={},r=this.allNeighborsIndex[e]||{};for(t in r)i[t]=this.nodesIndex[t];return i})),h(()=>{z.parsers.gexf("standard_graph.gexf",{container:r},(function(e){e.graph.nodes().forEach((function(e){e.originalColor=e.color})),e.graph.edges().forEach((function(e){e.originalColor=e.color})),e.bind("clickNode",(function(t){var i=t.data.node.id,r=e.graph.neighbors(i);r[i]=t.data.node,e.graph.nodes().forEach((function(e){r[e.id]?e.color=e.originalColor:e.color="#eee"})),e.graph.edges().forEach((function(e){r[e.source]&&r[e.target]?e.color=e.originalColor:e.color="#eee"})),e.refresh()})),e.bind("clickStage",(function(t){e.graph.nodes().forEach((function(e){e.color=e.originalColor})),e.graph.edges().forEach((function(e){e.color=e.originalColor})),e.refresh()}))}))}),[r,function(e){g[e?"unshift":"push"](()=>{i(0,r=e)})}]}class O extends N{constructor(e){super(),P(this,e,R,L,s,{})}}function I(t){let i,r;const n=new O({});return{c(){var e;i=l("main"),(e=n.$$.fragment)&&e.c()},m(e,t){o(e,i,t),S(n,i,null),r=!0},p:e,i(e){r||(T(n.$$.fragment,e),r=!0)},o(e){!function(e,t,i,r){if(e&&e.o){if(A.has(e))return;A.add(e),(void 0).c.push(()=>{A.delete(e),r&&(i&&e.d(1),r())}),e.o(t)}}(n.$$.fragment,e),r=!1},d(e){e&&a(i),C(n)}}}return new class extends N{constructor(e){super(),P(this,e,null,I,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
